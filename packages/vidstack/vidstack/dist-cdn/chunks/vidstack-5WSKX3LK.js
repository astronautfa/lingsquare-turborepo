import{I as k,K as A,M as g,N as b,O as _,Q as P,R as T,e as m,n as y,q as $}from"./vidstack-BQB2M2TQ.js";var S=t=>t===null?"":t+"",N=t=>t===null?null:t+"",M=t=>t===null?0:Number(t);var E=t=>t!==null,R=()=>null,w=t=>t===null?[]:JSON.parse(t),L=t=>t===null?{}:JSON.parse(t);function v(t){if(t===null)return N;switch(typeof t){case"undefined":return S;case"string":return S;case"boolean":return E;case"number":return M;case"function":return R;case"object":return $(t)?w:L;default:return S}}var p=Symbol("ATTRS"),C=Symbol("SETUP"),d=Symbol("SETUP_STATE"),f=Symbol("SETUP_CALLBACKS");function I(t,e){var a,u,n;let h=class h extends t{constructor(...r){if(super(...r),this[u]=0,this[n]=null,this.keepAlive=!1,this.forwardKeepAlive=!0,this.$=m(()=>_(e),null),this.$.$$._addHooks(this),e.props){let o=this.$props,i=Object.getOwnPropertyDescriptors(this);for(let s of Object.keys(i))s in e.props&&(o[s].set(this[s]),delete this[s])}}static get observedAttributes(){if(!this[p]&&e.props){let r=new Map;for(let o of Object.keys(e.props)){let i=this.attrs?.[o],s=y(i)?i:i&&i?.attr;s!==!1&&(s||(s=T(o)),r.set(s,{_prop:o,_converter:i&&!y(i)&&i?.converter||v(e.props[o])}))}this[p]=r}return this[p]?Array.from(this[p].keys()):[]}get scope(){return this.$.$$._scope}get attachScope(){return this.$.$$._attachScope}get connectScope(){return this.$.$$._connectScope}get $props(){return this.$.$$._props}get $state(){return this.$.$$._$state}get state(){return this.$.state}attributeChangedCallback(r,o,i){let s=this.constructor;if(!s[p]){super.attributeChangedCallback?.(r,o,i);return}let l=s[p].get(r);l&&(this[l._prop]=l._converter(i))}connectedCallback(){let r=this.$?.$$;if(!r||r._destroyed)return;if(this[d]!==2){U.call(this);return}if(!this.isConnected)return;this.hasAttribute("keep-alive")&&(this.keepAlive=!0),r._connect(),$(this[f])&&P(this[f],this),this[f]=null;let o=super.connectedCallback;o&&m(()=>o.call(this),this.connectScope)}disconnectedCallback(){let r=this.$?.$$;if(!r||r._destroyed)return;r._disconnect();let o=super.disconnectedCallback;o&&o.call(this),!this.keepAlive&&!this.hasAttribute("keep-alive")&&setTimeout(()=>{requestAnimationFrame(()=>{this.isConnected||r._destroy()})},0)}[(a=p,u=d,n=f,C)](){let r=this.$.$$,o=this.constructor;if(r._destroyed&&console.warn(`[maverick] attempted attaching to destroyed element \`${this.tagName}\``),r._destroyed)return;let i=o[p];if(i)for(let s of this.attributes){let l=i.get(s.name);l&&l._converter&&r._props[l._prop].set(l._converter(this.getAttribute(s.name)))}r._setup(),r._attach(this),this[d]=2,this.connectedCallback()}subscribe(r){return this.$.subscribe(r)}destroy(){this.disconnectedCallback(),this.$.destroy()}};h[a]=null;let c=h;return O(c,e),c}function O(t,e){let a=t.prototype,u=e.prototype;if(e.props)for(let n of Object.keys(e.props))Object.defineProperty(a,n,{enumerable:!0,configurable:!0,get(){return this.$props[n]()},set(c){this.$props[n].set(c)}});if(u[g])for(let n of u[g])Object.defineProperty(a,n,{enumerable:!0,configurable:!0,get(){return this.$[n]},set(c){this.$[n]=c}});if(u[b])for(let n of u[b])a[n]=function(...c){return this.$[n](...c)}}function U(){if(this[d]!==0)return;this[d]=1;let t=K(this),e=t&&window.customElements.get(t.localName),a=t&&t[d]===2;if(t&&(!e||!a)){B.call(this,t);return}x.call(this,t)}async function B(t){await window.customElements.whenDefined(t.localName),t[d]!==2&&await new Promise(e=>(t[f]??=[]).push(e)),x.call(this,t)}function x(t){if(this.isConnected){if(t){t.keepAlive&&t.forwardKeepAlive&&(this.keepAlive=!0,this.setAttribute("keep-alive",""));let e=this.$.$$._scope;e&&t.$.$$._attachScope.append(e)}this[C]()}}function K(t){let e=t.parentNode,a=t.localName.split("-",1)[0]+"-";for(;e;){if(e.nodeType===1&&e.localName.startsWith(a))return e;e=e.parentNode}return null}function J(t,e=!1){(e||!window.customElements.get(t.tagName))&&window.customElements.define(t.tagName,t)}var j=k();function D(){return A(j)}function V(){return D().$state}export{E as a,I as b,J as c,j as d,D as e,V as f};
