import{w as l,x as p}from"./vidstack-4WUVJWEQ.js";import{ea as u,i as s,n as i,o as c}from"./vidstack-XC7WIXLW.js";function d(r,t){let e=new URLSearchParams;for(let n of Object.keys(t))e.set(n,t[n]+"");return r+"?"+e.toString()}function g(r,t="preconnect"){let e=document.querySelector(`link[href="${r}"]`);if(!s(e))return!0;let n=document.createElement("link");return n.rel=t,n.href=r,n.crossOrigin="true",document.head.append(n),!0}var o={};function S(r){if(o[r])return o[r].promise;let t=u(),e=document.querySelector(`script[src="${r}"]`);if(!s(e))return t.resolve(),t.promise;let n=document.createElement("script");return n.src=r,n.onload=()=>{t.resolve(),delete o[r]},n.onerror=()=>{t.reject(),delete o[r]},setTimeout(()=>document.head.append(n),0),t.promise}function y(r){return r==="use-credentials"?"include":i(r)?"same-origin":void 0}function R({title:r,src:t,download:e}){let n=c(e)||e===""?t.src:i(e)?e:e?.url;return a({url:n,src:t,download:e})?{url:n,name:!c(e)&&!i(e)&&e?.filename||r.toLowerCase()||"media"}:null}function a({url:r,src:t,download:e}){return i(r)&&(e&&e!==!0||l(t)||p(t))}export{d as a,g as b,S as c,y as d,R as e};
