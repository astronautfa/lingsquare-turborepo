import{F as a,I as h,L as m,T as p,x as c}from"./vidstack-XC7WIXLW.js";var T=w;function w(t,e,n){var r=null,s=null,i=n&&n.leading,o=n&&n.trailing;i==null&&(i=!0),o==null&&(o=!i),i==!0&&(o=!1);var v=function(){r&&(clearTimeout(r),r=null)},g=function(){var l=s;v(),l&&l()},f=function(){var l=i&&!r,y=this,x=arguments;if(s=function(){return t.apply(y,x)},r||(r=setTimeout(function(){if(r=null,o)return s()},e)),l)return l=!1,s()};return f.cancel=v,f.flush=g,f}var d=h(!1);c(document,"pointerdown",()=>{d.set(!1)}),c(document,"keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||d.set(!0)});var b=class extends p{#t=h(!1);onConnect(e){m(()=>{if(!d()){this.#t.set(!1),u(e,!1),this.listen("pointerenter",this.#r.bind(this)),this.listen("pointerleave",this.#i.bind(this));return}let n=document.activeElement===e;this.#t.set(n),u(e,n),this.listen("focus",this.#e.bind(this)),this.listen("blur",this.#n.bind(this))})}focused(){return this.#t()}#e(){this.#t.set(!0),u(this.el,!0)}#n(){this.#t.set(!1),u(this.el,!1)}#r(){E(this.el,!0)}#i(){E(this.el,!1)}};function u(t,e){a(t,"data-focus",e),a(t,"data-hocus",e)}function E(t,e){a(t,"data-hocus",e),a(t,"data-hover",e)}export{T as a,d as b,b as c};
