import{H as p,I as u}from"./vidstack-TPV5IZLS.js";import{b as n}from"./vidstack-RYIIIOKJ.js";import{b as c}from"./vidstack-HDVJ2P4K.js";import{F as o,J as d,L as a}from"./vidstack-XC7WIXLW.js";var h=class extends n(HTMLElement,u){static tagName="media-provider";#i;#e=null;#t=null;onSetup(){this.#i=c(),this.setAttribute("keep-alive","")}onDestroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null}onConnect(){a(()=>{let e=this.$state.loader(),i=e?.name==="youtube",s=e?.name==="vimeo",r=i||s,l=e?.name==="google-cast",t=e?l?this.#a():r?this.#r():e.mediaType()==="audio"?this.#o():this.#s():null;if(this.#e!==t){let g=this.#e?.parentElement??this;this.#e?.remove(),this.#e=t,t&&g.prepend(t),r&&t&&a(()=>{let{nativeControls:y,viewType:E}=this.#i.$state,m=y(),M=E()==="audio";!m&&!M?(this.#t=this.querySelector(".vds-blocker"),this.#t||(this.#t=document.createElement("div"),this.#t.classList.add("vds-blocker"),t.after(this.#t))):(this.#t?.remove(),this.#t=null),o(t,"data-no-controls",!m)})}i?t?.classList.add("vds-youtube"):s&&t?.classList.add("vds-vimeo"),r||(this.#t?.remove(),this.#t=null),this.load(t)})}#o(){let e=this.#e instanceof HTMLAudioElement?this.#e:document.createElement("audio"),{controls:i,crossOrigin:s}=this.#i.$state;return a(()=>{o(e,"controls",i()),o(e,"crossorigin",s())}),e}#s(){let e=this.#e instanceof HTMLVideoElement?this.#e:document.createElement("video"),{crossOrigin:i,poster:s,nativeControls:r}=this.#i.$state,l=d(()=>r()?"true":null),t=d(()=>s()&&r()?s():null);return a(()=>{o(e,"controls",l()),o(e,"crossorigin",i()),o(e,"poster",t())}),e}#r(){let e=this.#e instanceof HTMLIFrameElement?this.#e:document.createElement("iframe"),{nativeControls:i}=this.#i.$state;return a(()=>o(e,"tabindex",i()?null:-1)),e}#a(){if(this.#e?.classList.contains("vds-google-cast"))return this.#e;let e=document.createElement("div");return e.classList.add("vds-google-cast"),import("./vidstack-VAROOPPH.js").then(({insertContent:i})=>{i(e,this.#i.$state)}),e}};var v=class extends n(HTMLElement,p){static tagName="media-player";static attrs={autoPlay:"autoplay",crossOrigin:"crossorigin",playsInline:"playsinline",preferNativeHLS:"prefer-native-hls",minLiveDVRWindow:"min-live-dvr-window"}};export{h as a,v as b};
