import"../chunks/vidstack-VMXK7TJF.js";import"../chunks/vidstack-HHAABY3A.js";import{v as h,w as T,y as b}from"../chunks/vidstack-TPV5IZLS.js";import"../chunks/vidstack-NTONOYHO.js";import"../chunks/vidstack-WJVXB6YB.js";import"../chunks/vidstack-CJCRVP5A.js";import"../chunks/vidstack-ZYQSM73U.js";import"../chunks/vidstack-EV5FVEL6.js";import"../chunks/vidstack-IMNMJXWE.js";import"../chunks/vidstack-4QJFXBXL.js";import{c as v}from"../chunks/vidstack-RYIIIOKJ.js";import"../chunks/vidstack-HDVJ2P4K.js";import{t as E}from"../chunks/vidstack-SKR3AJXQ.js";import"../chunks/vidstack-CRUGUF5W.js";import"../chunks/vidstack-KCALJS55.js";import"../chunks/vidstack-BQBKKLOB.js";import"../chunks/vidstack-4WUVJWEQ.js";import{Z as k,n as P}from"../chunks/vidstack-XC7WIXLW.js";var m=class{constructor(e){this.props=e}name="vidstack";async load(){await import("../define/vidstack-player-default-layout.js"),await import("../define/vidstack-player-ui.js")}create(){let e=[document.createElement("media-audio-layout"),document.createElement("media-video-layout")];if(this.props)for(let[r,i]of Object.entries(this.props))for(let l of e)l[r]=i;return e}};var d=class{constructor(e){this.props=e}name="plyr";async load(){await import("../define/plyr-layout.js")}create(){let e=document.createElement("media-plyr-layout");if(this.props)for(let[r,i]of Object.entries(this.props))e[r]=i;return[e]}};var V=Symbol(),w=class{static async create({target:e,layout:r,tracks:i,...l}){if(P(e)&&(e=document.querySelector(e)),!E(e))throw Error(`[vidstack] target must be of type \`HTMLElement\`, found \`${typeof e}\``);let t=document.createElement("media-player"),n=document.createElement("media-provider"),s,x=!h(e)&&!T(e)&&!b(e);if(t.setAttribute("keep-alive",""),l.poster&&r?.name!=="plyr"){if(!customElements.get("media-poster")){let{MediaPosterElement:a}=await import("../chunks/vidstack-K4MBNUFU.js");v(a)}let o=document.createElement("media-poster");r?.name==="vidstack"&&o.classList.add("vds-poster"),n.append(o)}r&&(e.removeAttribute("controls"),r[V]||(await r.load(),r[V]=!0),s=await r.create());let f=e.getAttribute("title");f&&t.setAttribute("title",f);let p=e.getAttribute("width"),c=e.getAttribute("height");(p||c)&&(p&&(t.style.width=p),c&&(t.style.height=c),t.style.aspectRatio="unset");for(let o of e.attributes){let a=o.name.replace("data-",""),u=k(a);if(u in t)t.setAttribute(a,o.value);else if(s?.length)for(let L of s)u in L&&L.setAttribute(a,o.value)}for(let[o,a]of Object.entries(l))t[o]=a;if(i)for(let o of i)t.textTracks.add(o);if(t.append(n),s)for(let o of s)t.append(o);if(x)e.append(t);else{for(let o of[...e.children])n.append(o);e.replaceWith(t)}return t}};export{d as PlyrLayout,w as VidstackPlayer,m as VidstackPlayerLayout};
