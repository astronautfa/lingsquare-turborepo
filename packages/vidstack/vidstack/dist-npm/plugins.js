var Tt=Object.create;var Me=Object.defineProperty;var Lt=Object.getOwnPropertyDescriptor;var wt=Object.getOwnPropertyNames;var Nt=Object.getPrototypeOf,It=Object.prototype.hasOwnProperty;var Pe=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Be=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wt(t))!It.call(e,s)&&s!==r&&Me(e,s,{get:()=>t[s],enumerable:!(n=Lt(t,s))||n.enumerable});return e};var Mt=(e,t,r)=>(r=e!=null?Tt(Nt(e)):{},kt(t||!e||!e.__esModule?Me(r,"default",{value:e,enumerable:!0}):r,e));var Ue=Be((Re,De)=>{(function(e,t){typeof Re=="object"&&typeof De<"u"?t(Re):typeof define=="function"&&define.amd?define(["exports"],t):t(e.estreeWalker={})})(Re,function(e){"use strict";function t(f,{enter:g,leave:h}){l(f,null,g,h)}let r=!1,n={skip:()=>r=!0},s={},i=Object.prototype.toString;function a(f){return i.call(f)==="[object Array]"}function l(f,g,h,y,o,x){if(!f)return;if(h){let d=r;r=!1,h.call(n,f,g,o,x);let A=r;if(r=d,A)return}let _=f.type&&s[f.type]||(s[f.type]=Object.keys(f).filter(d=>typeof f[d]=="object"));for(let d=0;d<_.length;d+=1){let A=_[d],m=f[A];if(a(m))for(let C=0;C<m.length;C+=1)m[C]&&m[C].type&&l(m[C],f,h,y,A,C);else m&&m.type&&l(m,f,h,y,A,null)}y&&y(f,g,o,x)}e.walk=t,e.childKeys=s,Object.defineProperty(e,"__esModule",{value:!0})})});var Ct=Be(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});function at(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var ie=Pe("path"),He=at(ie),Pt=Ue(),Oe=at(Pe("util")),Bt=function(t,r=".js"){return ie.extname(t)||(t+=r),t},te={ArrayPattern(e,t){for(let r of t.elements)r&&te[r.type](e,r)},AssignmentPattern(e,t){te[t.left.type](e,t.left)},Identifier(e,t){e.push(t.name)},MemberExpression(){},ObjectPattern(e,t){for(let r of t.properties)r.type==="RestElement"?te.RestElement(e,r):te[r.value.type](e,r.value)},RestElement(e,t){te[t.argument.type](e,t.argument)}},be=function(t){let r=[];return te[t.type](r,t),r},Dt={const:!0,let:!0},re=class{constructor(t={}){this.parent=t.parent,this.isBlockScope=!!t.block,this.declarations=Object.create(null),t.params&&t.params.forEach(r=>{be(r).forEach(n=>{this.declarations[n]=!0})})}addDeclaration(t,r,n){!r&&this.isBlockScope?this.parent.addDeclaration(t,r,n):t.id&&be(t.id).forEach(s=>{this.declarations[s]=!0})}contains(t){return this.declarations[t]||(this.parent?this.parent.contains(t):!1)}},Ut=function(t,r="scope"){let n=new re;return Pt.walk(t,{enter(s,i){if(/(Function|Class)Declaration/.test(s.type)&&n.addDeclaration(s,!1,!1),s.type==="VariableDeclaration"){let l=s.kind,f=Dt[l];s.declarations.forEach(g=>{n.addDeclaration(g,f,!0)})}let a;/Function/.test(s.type)&&(a=new re({parent:n,block:!1,params:s.params}),s.type==="FunctionExpression"&&s.id&&a.addDeclaration(s,!1,!1)),s.type==="BlockStatement"&&!/Function/.test(i.type)&&(a=new re({parent:n,block:!0})),s.type==="CatchClause"&&(a=new re({parent:n,params:s.param?[s.param]:[],block:!0})),a&&(Object.defineProperty(s,r,{value:a,configurable:!0}),n=a)},leave(s){s[r]&&(n=n.parent)}}),n};function it(e,t){return t={exports:{}},e(t,t.exports),t.exports}var w=it(function(e,t){t.isInteger=r=>typeof r=="number"?Number.isInteger(r):typeof r=="string"&&r.trim()!==""?Number.isInteger(Number(r)):!1,t.find=(r,n)=>r.nodes.find(s=>s.type===n),t.exceedsLimit=(r,n,s=1,i)=>i===!1||!t.isInteger(r)||!t.isInteger(n)?!1:(Number(n)-Number(r))/Number(s)>=i,t.escapeNode=(r,n=0,s)=>{let i=r.nodes[n];i&&(s&&i.type===s||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)},t.encloseBrace=r=>r.type!=="brace"||r.commas>>0+r.ranges>>0?!1:(r.invalid=!0,!0),t.isInvalidBrace=r=>r.type!=="brace"?!1:r.invalid===!0||r.dollar?!0:!(r.commas>>0+r.ranges>>0)||r.open!==!0||r.close!==!0?(r.invalid=!0,!0):!1,t.isOpenOrClose=r=>r.type==="open"||r.type==="close"?!0:r.open===!0||r.close===!0,t.reduce=r=>r.reduce((n,s)=>(s.type==="text"&&n.push(s.value),s.type==="range"&&(s.type="text"),n),[]),t.flatten=(...r)=>{let n=[],s=i=>{for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?s(l,n):l!==void 0&&n.push(l)}return n};return s(r),n}}),An=w.isInteger,yn=w.find,Rn=w.exceedsLimit,dn=w.escapeNode,_n=w.encloseBrace,En=w.isInvalidBrace,mn=w.isOpenOrClose,Cn=w.reduce,Sn=w.flatten,le=(e,t={})=>{let r=(n,s={})=>{let i=t.escapeInvalid&&w.isInvalidBrace(s),a=n.invalid===!0&&t.escapeInvalid===!0,l="";if(n.value)return(i||a)&&w.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let f of n.nodes)l+=r(f);return l};return r(e)};var Ge=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1},Y=(e,t,r)=>{if(Ge(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Ge(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=Object.assign({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),i=String(n.shorthand),a=String(n.capture),l=String(n.wrap),f=e+":"+t+"="+s+i+a+l;if(Y.cache.hasOwnProperty(f))return Y.cache[f].result;let g=Math.min(e,t),h=Math.max(e,t);if(Math.abs(g-h)===1){let d=e+"|"+t;return n.capture?`(${d})`:n.wrap===!1?d:`(?:${d})`}let y=Xe(e)||Xe(t),o={min:e,max:t,a:g,b:h},x=[],_=[];if(y&&(o.isPadded=y,o.maxLen=String(o.max).length),g<0){let d=h<0?Math.abs(h):1;_=Fe(d,Math.abs(g),o,n),g=o.a=0}return h>=0&&(x=Fe(g,h,o,n)),o.negatives=_,o.positives=x,o.result=Gt(_,x,n),n.capture===!0?o.result=`(${o.result})`:n.wrap!==!1&&x.length+_.length>1&&(o.result=`(?:${o.result})`),Y.cache[f]=o,o.result};function Gt(e,t,r){let n=me(e,t,"-",!1,r)||[],s=me(t,e,"",!1,r)||[],i=me(e,t,"-?",!0,r)||[];return n.concat(i).concat(s).join("|")}function Ft(e,t){let r=1,n=1,s=je(e,r),i=new Set([t]);for(;e<=s&&s<=t;)i.add(s),r+=1,s=je(e,r);for(s=We(t+1,n)-1;e<s&&s<=t;)i.add(s),n+=1,s=We(t+1,n)-1;return i=[...i],i.sort(Wt),i}function Kt(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=jt(e,t),s=n.length,i="",a=0;for(let l=0;l<s;l++){let[f,g]=n[l];f===g?i+=f:f!=="0"||g!=="9"?i+=Qt(f,g,r):a++}return a&&(i+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:i,count:[a],digits:s}}function Fe(e,t,r,n){let s=Ft(e,t),i=[],a=e,l;for(let f=0;f<s.length;f++){let g=s[f],h=Kt(String(a),String(g),n),y="";if(!r.isPadded&&l&&l.pattern===h.pattern){l.count.length>1&&l.count.pop(),l.count.push(h.count[0]),l.string=l.pattern+Qe(l.count),a=g+1;continue}r.isPadded&&(y=Xt(g,r,n)),h.string=y+h.pattern+Qe(h.count),i.push(h),a=g+1,l=h}return i}function me(e,t,r,n,s){let i=[];for(let a of e){let{string:l}=a;!n&&!Ke(t,"string",l)&&i.push(r+l),n&&Ke(t,"string",l)&&i.push(r+l)}return i}function jt(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function Wt(e,t){return e>t?1:t>e?-1:0}function Ke(e,t,r){return e.some(n=>n[t]===r)}function je(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function We(e,t){return e-e%Math.pow(10,t)}function Qe(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function Qt(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function Xe(e){return/^-?(0+)\d/.test(e)}function Xt(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}Y.cache={};Y.clearCache=()=>Y.cache={};var lt=Y,ze=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),zt=e=>t=>e===!0?Number(t):String(t),Ce=e=>typeof e=="number"||typeof e=="string"&&e!=="",se=e=>Number.isInteger(+e),Se=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Zt=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,qt=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Ze=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},Yt=(e,t)=>{e.negatives.sort((a,l)=>a<l?-1:a>l?1:0),e.positives.sort((a,l)=>a<l?-1:a>l?1:0);let r=t.capture?"":"?:",n="",s="",i;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.join("|")})`),n&&s?i=`${n}|${s}`:i=n||s,t.wrap?`(${r}${i})`:i},ut=(e,t,r,n)=>{if(r)return lt(e,t,Object.assign({wrap:!1},n));let s=String.fromCharCode(e);if(e===t)return s;let i=String.fromCharCode(t);return`[${s}-${i}]`},ot=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${e.join("|")})`:e.join("|")}return lt(e,t,r)},ct=(...e)=>new RangeError("Invalid range arguments: "+Oe.inspect(...e)),ft=(e,t,r)=>{if(r.strictRanges===!0)throw ct([e,t]);return[]},Vt=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Jt=(e,t,r=1,n={})=>{let s=Number(e),i=Number(t);if(!Number.isInteger(s)||!Number.isInteger(i)){if(n.strictRanges===!0)throw ct([e,t]);return[]}s===0&&(s=0),i===0&&(i=0);let a=s>i,l=String(e),f=String(t),g=String(r);r=Math.max(Math.abs(r),1);let h=Se(l)||Se(f)||Se(g),y=h?Math.max(l.length,f.length,g.length):0,o=h===!1&&Zt(e,t,n)===!1,x=n.transform||zt(o);if(n.toRegex&&r===1)return ut(Ze(e,y),Ze(t,y),!0,n);let _={negatives:[],positives:[]},d=C=>_[C<0?"negatives":"positives"].push(Math.abs(C)),A=[],m=0;for(;a?s>=i:s<=i;)n.toRegex===!0&&r>1?d(s):A.push(qt(x(s,m),y,o)),s=a?s-r:s+r,m++;return n.toRegex===!0?r>1?Yt(_,n):ot(A,null,Object.assign({wrap:!1},n)):A},er=(e,t,r=1,n={})=>{if(!se(e)&&e.length>1||!se(t)&&t.length>1)return ft(e,t,n);let s=n.transform||(o=>String.fromCharCode(o)),i=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),l=i>a,f=Math.min(i,a),g=Math.max(i,a);if(n.toRegex&&r===1)return ut(f,g,!1,n);let h=[],y=0;for(;l?i>=a:i<=a;)h.push(s(i,y)),i=l?i-r:i+r,y++;return n.toRegex===!0?ot(h,null,{wrap:!1,options:n}):h},de=(e,t,r,n={})=>{if(t==null&&Ce(e))return[e];if(!Ce(e)||!Ce(t))return ft(e,t,n);if(typeof r=="function")return de(e,t,1,{transform:r});if(ze(r))return de(e,t,0,r);let s=Object.assign({},n);return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,se(r)?se(e)&&se(t)?Jt(e,t,r,s):er(e,t,Math.max(Math.abs(r),1),s):r!=null&&!ze(r)?Vt(r,s):de(e,t,1,r)},pt=de,tr=(e,t={})=>{let r=(n,s={})=>{let i=w.isInvalidBrace(s),a=n.invalid===!0&&t.escapeInvalid===!0,l=i===!0||a===!0,f=t.escapeInvalid===!0?"\\":"",g="";if(n.isOpen===!0||n.isClose===!0)return f+n.value;if(n.type==="open")return l?f+n.value:"(";if(n.type==="close")return l?f+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":l?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let h=w.reduce(n.nodes),y=pt(...h,Object.assign({},t,{wrap:!1,toRegex:!0}));if(y.length!==0)return h.length>1&&y.length>1?`(${y})`:y}if(n.nodes)for(let h of n.nodes)g+=r(h,n);return g};return r(e)},rr=tr,q=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?w.flatten(t).map(s=>`{${s}}`):t;for(let s of e)if(Array.isArray(s))for(let i of s)n.push(q(i,t,r));else for(let i of t)r===!0&&typeof i=="string"&&(i=`{${i}}`),n.push(Array.isArray(i)?q(s,i,r):s+i);return w.flatten(n)},nr=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(s,i={})=>{s.queue=[];let a=i,l=i.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,l=a.queue;if(s.invalid||s.dollar){l.push(q(l.pop(),le(s,t)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){l.push(q(l.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let y=w.reduce(s.nodes);if(w.exceedsLimit(...y,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let o=pt(...y,t);o.length===0&&(o=le(s,t)),l.push(q(l.pop(),o)),s.nodes=[];return}let f=w.encloseBrace(s),g=s.queue,h=s;for(;h.type!=="brace"&&h.type!=="root"&&h.parent;)h=h.parent,g=h.queue;for(let y=0;y<s.nodes.length;y++){let o=s.nodes[y];if(o.type==="comma"&&s.type==="brace"){y===1&&g.push(""),g.push("");continue}if(o.type==="close"){l.push(q(l.pop(),g,f));continue}if(o.value&&o.type!=="open"){g.push(q(g.pop(),o.value));continue}o.nodes&&n(o,s)}return g};return w.flatten(n(e))},sr=nr,ar={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"},{MAX_LENGTH:qe,CHAR_BACKSLASH:ve,CHAR_BACKTICK:ir,CHAR_COMMA:lr,CHAR_DOT:ur,CHAR_LEFT_PARENTHESES:or,CHAR_RIGHT_PARENTHESES:cr,CHAR_LEFT_CURLY_BRACE:fr,CHAR_RIGHT_CURLY_BRACE:pr,CHAR_LEFT_SQUARE_BRACKET:Ye,CHAR_RIGHT_SQUARE_BRACKET:Ve,CHAR_DOUBLE_QUOTE:hr,CHAR_SINGLE_QUOTE:gr,CHAR_NO_BREAK_SPACE:Ar,CHAR_ZERO_WIDTH_NOBREAK_SPACE:yr}=ar,Rr=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(qe,r.maxLength):qe;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let s={type:"root",input:e,nodes:[]},i=[s],a=s,l=s,f=0,g=e.length,h=0,y=0,o,x=()=>e[h++],_=d=>{if(d.type==="text"&&l.type==="dot"&&(l.type="text"),l&&l.type==="text"&&d.type==="text"){l.value+=d.value;return}return a.nodes.push(d),d.parent=a,d.prev=l,l=d,d};for(_({type:"bos"});h<g;)if(a=i[i.length-1],o=x(),!(o===yr||o===Ar)){if(o===ve){_({type:"text",value:(t.keepEscaping?o:"")+x()});continue}if(o===Ve){_({type:"text",value:"\\"+o});continue}if(o===Ye){f++;let d;for(;h<g&&(d=x());){if(o+=d,d===Ye){f++;continue}if(d===ve){o+=x();continue}if(d===Ve&&(f--,f===0))break}_({type:"text",value:o});continue}if(o===or){a=_({type:"paren",nodes:[]}),i.push(a),_({type:"text",value:o});continue}if(o===cr){if(a.type!=="paren"){_({type:"text",value:o});continue}a=i.pop(),_({type:"text",value:o}),a=i[i.length-1];continue}if(o===hr||o===gr||o===ir){let d=o,A;for(t.keepQuotes!==!0&&(o="");h<g&&(A=x());){if(A===ve){o+=A+x();continue}if(A===d){t.keepQuotes===!0&&(o+=A);break}o+=A}_({type:"text",value:o});continue}if(o===fr){y++;let A={type:"brace",open:!0,close:!1,dollar:l.value&&l.value.slice(-1)==="$"||a.dollar===!0,depth:y,commas:0,ranges:0,nodes:[]};a=_(A),i.push(a),_({type:"open",value:o});continue}if(o===pr){if(a.type!=="brace"){_({type:"text",value:o});continue}let d="close";a=i.pop(),a.close=!0,_({type:d,value:o}),y--,a=i[i.length-1];continue}if(o===lr&&y>0){if(a.ranges>0){a.ranges=0;let d=a.nodes.shift();a.nodes=[d,{type:"text",value:le(a)}]}_({type:"comma",value:o}),a.commas++;continue}if(o===ur&&y>0&&a.commas===0){let d=a.nodes;if(y===0||d.length===0){_({type:"text",value:o});continue}if(l.type==="dot"){if(a.range=[],l.value+=o,l.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,l.type="text";continue}a.ranges++,a.args=[];continue}if(l.type==="range"){d.pop();let A=d[d.length-1];A.value+=l.value+o,l=A,a.ranges--;continue}_({type:"dot",value:o});continue}_({type:"text",value:o})}do if(a=i.pop(),a.type!=="root"){a.nodes.forEach(m=>{m.nodes||(m.type==="open"&&(m.isOpen=!0),m.type==="close"&&(m.isClose=!0),m.nodes||(m.type="text"),m.invalid=!0)});let d=i[i.length-1],A=d.nodes.indexOf(a);d.nodes.splice(A,1,...a.nodes)}while(i.length>0);return _({type:"eos"}),s},dr=Rr,M=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let s=M.create(n,t);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(M.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};M.parse=(e,t={})=>dr(e,t);M.stringify=(e,t={})=>le(typeof e=="string"?M.parse(e,t):e,t);M.compile=(e,t={})=>(typeof e=="string"&&(e=M.parse(e,t)),rr(e,t));M.expand=(e,t={})=>{typeof e=="string"&&(e=M.parse(e,t));let r=sr(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};M.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?M.compile(e,t):M.expand(e,t);var ht=M,G="\\\\/",Je=`[^${G}]`,W="\\.",_r="\\+",Er="\\?",Ee="\\/",mr="(?=.)",gt="[^/]",Te=`(?:${Ee}|$)`,At=`(?:^|${Ee})`,Le=`${W}{1,2}${Te}`,Cr=`(?!${W})`,Sr=`(?!${At}${Le})`,vr=`(?!${W}{0,1}${Te})`,xr=`(?!${Le})`,$r=`[^.${Ee}]`,br=`${gt}*?`,yt={DOT_LITERAL:W,PLUS_LITERAL:_r,QMARK_LITERAL:Er,SLASH_LITERAL:Ee,ONE_CHAR:mr,QMARK:gt,END_ANCHOR:Te,DOTS_SLASH:Le,NO_DOT:Cr,NO_DOTS:Sr,NO_DOT_SLASH:vr,NO_DOTS_SLASH:xr,QMARK_NO_DOT:$r,STAR:br,START_ANCHOR:At},Hr=Object.assign({},yt,{SLASH_LITERAL:`[${G}]`,QMARK:Je,STAR:`${Je}*?`,DOTS_SLASH:`${W}{1,2}(?:[${G}]|$)`,NO_DOT:`(?!${W})`,NO_DOTS:`(?!(?:^|[${G}])${W}{1,2}(?:[${G}]|$))`,NO_DOT_SLASH:`(?!${W}{0,1}(?:[${G}]|$))`,NO_DOTS_SLASH:`(?!${W}{1,2}(?:[${G}]|$))`,QMARK_NO_DOT:`[^.${G}]`,START_ANCHOR:`(?:^|[${G}])`,END_ANCHOR:`(?:[${G}]|$)`}),Or={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},V={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Or,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHAR:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:He.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Hr:yt}},b=it(function(e,t){let r=process.platform==="win32",{REGEX_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_GLOBAL:s,REGEX_REMOVE_BACKSLASH:i}=V;t.isObject=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t.hasRegexChars=a=>n.test(a),t.isRegexChar=a=>a.length===1&&t.hasRegexChars(a),t.escapeRegex=a=>a.replace(s,"\\$1"),t.toPosixSlashes=a=>a.replace(/\\/g,"/"),t.removeBackslashes=a=>a.replace(i,l=>l==="\\"?"":l),t.supportsLookbehinds=()=>{let a=process.version.slice(1).split(".");return a.length===3&&+a[0]>=9||+a[0]==8&&+a[1]>=10},t.isWindows=a=>a&&typeof a.windows=="boolean"?a.windows:r===!0||He.sep==="\\",t.escapeLast=(a,l,f)=>{let g=a.lastIndexOf(l,f);return g===-1?a:a[g-1]==="\\"?t.escapeLast(a,l,g-1):a.slice(0,g)+"\\"+a.slice(g)}}),vn=b.isObject,xn=b.hasRegexChars,$n=b.isRegexChar,bn=b.escapeRegex,Hn=b.toPosixSlashes,On=b.removeBackslashes,Tn=b.supportsLookbehinds,Ln=b.isWindows,wn=b.escapeLast,{CHAR_ASTERISK:et,CHAR_AT:Tr,CHAR_BACKWARD_SLASH:ne,CHAR_COMMA:Lr,CHAR_DOT:xe,CHAR_EXCLAMATION_MARK:tt,CHAR_FORWARD_SLASH:Rt,CHAR_LEFT_CURLY_BRACE:$e,CHAR_LEFT_PARENTHESES:rt,CHAR_LEFT_SQUARE_BRACKET:wr,CHAR_PLUS:Nr,CHAR_QUESTION_MARK:Ir,CHAR_RIGHT_CURLY_BRACE:kr,CHAR_RIGHT_PARENTHESES:Mr,CHAR_RIGHT_SQUARE_BRACKET:Pr}=V,Br=e=>e===Rt||e===ne,Dr=(e,t)=>{let r=t||{},n=e.length-1,s=-1,i=0,a=0,l=!1,f=!1,g=!1,h=0,y,o,x=!1,_=()=>s>=n,d=()=>(y=o,e.charCodeAt(++s));for(;s<n;){o=d();let v;if(o===ne){f=!0,v=d(),v===$e&&(x=!0);continue}if(x===!0||o===$e)for(h++;!_()&&(v=d());){if(v===ne){f=!0,v=d();continue}if(v===$e){h++;continue}if(!x&&v===xe&&(v=d())===xe){l=!0;break}if(!x&&v===Lr){l=!0;break}if(v===kr&&(h--,h===0)){x=!1;break}}if(o===Rt){if(y===xe&&s===i+1){i+=2;continue}a=s+1;continue}if(o===et){l=!0;break}if(o===et||o===Ir){l=!0;break}if(o===wr)for(;!_()&&(v=d());){if(v===ne){f=!0,v=d();continue}if(v===Pr){l=!0;break}}if((o===Nr||o===Tr||o===tt)&&e.charCodeAt(s+1)===rt){l=!0;break}if(o===tt&&s===i){g=!0,i++;continue}if(o===rt)for(;!_()&&(v=d());){if(v===ne){f=!0,v=d();continue}if(v===Mr){l=!0;break}}if(l)break}let A="",m=e,C=e,H="";return i>0&&(A=e.slice(0,i),e=e.slice(i),a-=i),C&&l===!0&&a>0?(C=e.slice(0,a),H=e.slice(a)):l===!0?(C="",H=e):C=e,C&&C!==""&&C!=="/"&&C!==e&&Br(C.charCodeAt(C.length-1))&&(C=C.slice(0,-1)),r.unescape===!0&&(H&&(H=b.removeBackslashes(H)),C&&f===!0&&(C=b.removeBackslashes(C))),{prefix:A,input:m,base:C,glob:H,negated:g,isGlob:l}},{MAX_LENGTH:_e,POSIX_REGEX_SOURCE:Ur,REGEX_NON_SPECIAL_CHAR:Gr,REGEX_SPECIAL_CHARS_BACKREF:Fr,REPLACEMENTS:dt}=V,Kr=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{}catch{return e.map(s=>b.escapeRegex(s)).join("..")}return r},jr=e=>{let t=1;for(;e.peek()==="!"&&(e.peek(2)!=="("||e.peek(3)==="?");)e.advance(),e.start++,t++;return t%2===0?!1:(e.negated=!0,e.start++,!0)},ee=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,_t=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=dt[e]||e;let r=Object.assign({},t),n=typeof r.maxLength=="number"?Math.min(_e,r.maxLength):_e,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let i={type:"bos",value:"",output:r.prepend||""},a=[i],l=r.capture?"":"?:",f=b.isWindows(t),g=V.globChars(f),h=V.extglobChars(g),{DOT_LITERAL:y,PLUS_LITERAL:o,SLASH_LITERAL:x,ONE_CHAR:_,DOTS_SLASH:d,NO_DOT:A,NO_DOT_SLASH:m,NO_DOTS_SLASH:C,QMARK:H,QMARK_NO_DOT:v,STAR:I,START_ANCHOR:k}=g,P=E=>`(${l}(?:(?!${k}${E.dot?d:y}).)*?)`,K=r.dot?"":A,j=r.bash===!0?P(r):I,Ht=r.dot?H:v;r.capture&&(j=`(${j})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let p={index:-1,start:0,consumed:"",output:"",backtrack:!1,brackets:0,braces:0,parens:0,quotes:0,tokens:a},B=[],fe=[],c=i,u,J=()=>p.index===s-1,T=p.peek=(E=1)=>e[p.index+E],X=p.advance=()=>e[++p.index],pe=E=>{p.output+=E.output!=null?E.output:E.value,p.consumed+=E.value||""},he=E=>{p[E]++,fe.push(E)},z=E=>{p[E]--,fe.pop()},$=E=>{if(c.type==="globstar"){let R=p.braces>0&&(E.type==="comma"||E.type==="brace"),S=B.length&&(E.type==="pipe"||E.type==="paren");E.type!=="slash"&&E.type!=="paren"&&!R&&!S&&(p.output=p.output.slice(0,-c.output.length),c.type="star",c.value="*",c.output=j,p.output+=c.output)}if(B.length&&E.type!=="paren"&&!h[E.value]&&(B[B.length-1].inner+=E.value),(E.value||E.output)&&pe(E),c&&c.type==="text"&&E.type==="text"){c.value+=E.value;return}E.prev=c,a.push(E),c=E},ge=(E,R)=>{let S=Object.assign({},h[R],{conditions:1,inner:""});S.prev=c,S.parens=p.parens,S.output=p.output;let L=(r.capture?"(":"")+S.open;$({type:E,value:R,output:p.output?"":_}),$({type:"paren",extglob:!0,value:X(),output:L}),he("parens"),B.push(S)},Ot=E=>{let R=E.close+(r.capture?")":"");if(E.type==="negate"){let S=j;E.inner&&E.inner.length>1&&E.inner.includes("/")&&(S=P(r)),(S!==j||J()||/^\)+$/.test(e.slice(p.index+1)))&&(R=E.close=")$))"+S),E.prev.type==="bos"&&J()&&(p.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:u,output:R}),z("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/{[()\]}"])/.test(e)){let E=!1,R=e.replace(Fr,(S,L,D,U,Z,Ae)=>U==="\\"?(E=!0,S):U==="?"?L?L+U+(Z?H.repeat(Z.length):""):Ae===0?Ht+(Z?H.repeat(Z.length):""):H.repeat(D.length):U==="."?y.repeat(D.length):U==="*"?L?L+U+(Z?j:""):j:L?S:"\\"+S);return E===!0&&(r.unescape===!0?R=R.replace(/\\/g,""):R=R.replace(/\\+/g,S=>S.length%2===0?"\\\\":S?"\\":"")),p.output=R,p}for(;!J();){if(u=X(),u==="\0")continue;if(u==="\\"){let R=T();if(R==="/"&&r.bash!==!0||R==="."||R===";")continue;if(!R){u+="\\",$({type:"text",value:u});continue}let S=/^\\+/.exec(e.slice(p.index+1)),L=0;if(S&&S[0].length>2&&(L=S[0].length,p.index+=L,L%2!==0&&(u+="\\")),r.unescape===!0?u=X()||"":u+=X()||"",p.brackets===0){$({type:"text",value:u});continue}}if(p.brackets>0&&(u!=="]"||c.value==="["||c.value==="[^")){if(r.posix!==!1&&u===":"){let R=c.value.slice(1);if(R.includes("[")&&(c.posix=!0,R.includes(":"))){let S=c.value.lastIndexOf("["),L=c.value.slice(0,S),D=c.value.slice(S+2),U=Ur[D];if(U){c.value=L+U,p.backtrack=!0,X(),!i.output&&a.indexOf(c)===1&&(i.output=_);continue}}}(u==="["&&T()!==":"||u==="-"&&T()==="]")&&(u="\\"+u),u==="]"&&(c.value==="["||c.value==="[^")&&(u="\\"+u),r.posix===!0&&u==="!"&&c.value==="["&&(u="^"),c.value+=u,pe({value:u});continue}if(p.quotes===1&&u!=='"'){u=b.escapeRegex(u),c.value+=u,pe({value:u});continue}if(u==='"'){p.quotes=p.quotes===1?0:1,r.keepQuotes===!0&&$({type:"text",value:u});continue}if(u==="("){$({type:"paren",value:u}),he("parens");continue}if(u===")"){if(p.parens===0&&r.strictBrackets===!0)throw new SyntaxError(ee("opening","("));let R=B[B.length-1];if(R&&p.parens===R.parens+1){Ot(B.pop());continue}$({type:"paren",value:u,output:p.parens?")":"\\)"}),z("parens");continue}if(u==="["){if(r.nobracket===!0||!e.slice(p.index+1).includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(ee("closing","]"));u="\\"+u}else he("brackets");$({type:"bracket",value:u});continue}if(u==="]"){if(r.nobracket===!0||c&&c.type==="bracket"&&c.value.length===1){$({type:"text",value:u,output:"\\"+u});continue}if(p.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(ee("opening","["));$({type:"text",value:u,output:"\\"+u});continue}z("brackets");let R=c.value.slice(1);if(c.posix!==!0&&R[0]==="^"&&!R.includes("/")&&(u="/"+u),c.value+=u,pe({value:u}),r.literalBrackets===!1||b.hasRegexChars(R))continue;let S=b.escapeRegex(c.value);if(p.output=p.output.slice(0,-c.value.length),r.literalBrackets===!0){p.output+=S,c.value=S;continue}c.value=`(${l}${S}|${c.value})`,p.output+=c.value;continue}if(u==="{"&&r.nobrace!==!0){$({type:"brace",value:u,output:"("}),he("braces");continue}if(u==="}"){if(r.nobrace===!0||p.braces===0){$({type:"text",value:u,output:"\\"+u});continue}let R=")";if(p.dots===!0){let S=a.slice(),L=[];for(let D=S.length-1;D>=0&&(a.pop(),S[D].type!=="brace");D--)S[D].type!=="dots"&&L.unshift(S[D].value);R=Kr(L,r),p.backtrack=!0}$({type:"brace",value:u,output:R}),z("braces");continue}if(u==="|"){B.length>0&&B[B.length-1].conditions++,$({type:"text",value:u});continue}if(u===","){let R=u;p.braces>0&&fe[fe.length-1]==="braces"&&(R="|"),$({type:"comma",value:u,output:R});continue}if(u==="/"){if(c.type==="dot"&&p.index===1){p.start=p.index+1,p.consumed="",p.output="",a.pop(),c=i;continue}$({type:"slash",value:u,output:x});continue}if(u==="."){if(p.braces>0&&c.type==="dot"){c.value==="."&&(c.output=y),c.type="dots",c.output+=u,c.value+=u,p.dots=!0;continue}$({type:"dot",value:u,output:y});continue}if(u==="?"){if(c&&c.type==="paren"){let R=T(),S=u;if(R==="<"&&!b.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(c.value==="("&&!/[!=<:]/.test(R)||R==="<"&&!/[!=]/.test(T(2)))&&(S="\\"+u),$({type:"text",value:u,output:S});continue}if(r.noextglob!==!0&&T()==="("&&T(2)!=="?"){ge("qmark",u);continue}if(r.dot!==!0&&(c.type==="slash"||c.type==="bos")){$({type:"qmark",value:u,output:v});continue}$({type:"qmark",value:u,output:H});continue}if(u==="!"){if(r.noextglob!==!0&&T()==="("&&(T(2)!=="?"||!/[!=<:]/.test(T(3)))){ge("negate",u);continue}if(r.nonegate!==!0&&p.index===0){jr(p);continue}}if(u==="+"){if(r.noextglob!==!0&&T()==="("&&T(2)!=="?"){ge("plus",u);continue}if(c&&(c.type==="bracket"||c.type==="paren"||c.type==="brace")){let R=c.extglob===!0?"\\"+u:u;$({type:"plus",value:u,output:R});continue}if(p.parens>0&&r.regex!==!1){$({type:"plus",value:u});continue}$({type:"plus",value:o});continue}if(u==="@"){if(r.noextglob!==!0&&T()==="("&&T(2)!=="?"){$({type:"at",value:u,output:""});continue}$({type:"text",value:u});continue}if(u!=="*"){(u==="$"||u==="^")&&(u="\\"+u);let R=Gr.exec(e.slice(p.index+1));R&&(u+=R[0],p.index+=R[0].length),$({type:"text",value:u});continue}if(c&&(c.type==="globstar"||c.star===!0)){c.type="star",c.star=!0,c.value+=u,c.output=j,p.backtrack=!0,p.consumed+=u;continue}if(r.noextglob!==!0&&T()==="("&&T(2)!=="?"){ge("star",u);continue}if(c.type==="star"){if(r.noglobstar===!0){p.consumed+=u;continue}let R=c.prev,S=R.prev,L=R.type==="slash"||R.type==="bos",D=S&&(S.type==="star"||S.type==="globstar");if(r.bash===!0&&(!L||!J()&&T()!=="/")){$({type:"star",value:u,output:""});continue}let U=p.braces>0&&(R.type==="comma"||R.type==="brace"),Z=B.length&&(R.type==="pipe"||R.type==="paren");if(!L&&R.type!=="paren"&&!U&&!Z){$({type:"star",value:u,output:""});continue}for(;e.slice(p.index+1,p.index+4)==="/**";){let ye=e[p.index+4];if(ye&&ye!=="/")break;p.consumed+="/**",p.index+=3}if(R.type==="bos"&&J()){c.type="globstar",c.value+=u,c.output=P(r),p.output=c.output,p.consumed+=u;continue}if(R.type==="slash"&&R.prev.type!=="bos"&&!D&&J()){p.output=p.output.slice(0,-(R.output+c.output).length),R.output="(?:"+R.output,c.type="globstar",c.output=P(r)+"|$)",c.value+=u,p.output+=R.output+c.output,p.consumed+=u;continue}let Ae=T();if(R.type==="slash"&&R.prev.type!=="bos"&&Ae==="/"){let ye=T(2)!==void 0?"|$":"";p.output=p.output.slice(0,-(R.output+c.output).length),R.output="(?:"+R.output,c.type="globstar",c.output=`${P(r)}${x}|${x}${ye})`,c.value+=u,p.output+=R.output+c.output,p.consumed+=u+X(),$({type:"slash",value:u,output:""});continue}if(R.type==="bos"&&Ae==="/"){c.type="globstar",c.value+=u,c.output=`(?:^|${x}|${P(r)}${x})`,p.output=c.output,p.consumed+=u+X(),$({type:"slash",value:u,output:""});continue}p.output=p.output.slice(0,-c.output.length),c.type="globstar",c.output=P(r),c.value+=u,p.output+=c.output,p.consumed+=u;continue}let E={type:"star",value:u,output:j};if(r.bash===!0){E.output=".*?",(c.type==="bos"||c.type==="slash")&&(E.output=K+E.output),$(E);continue}if(c&&(c.type==="bracket"||c.type==="paren")&&r.regex===!0){E.output=u,$(E);continue}(p.index===p.start||c.type==="slash"||c.type==="dot")&&(c.type==="dot"?(p.output+=m,c.output+=m):r.dot===!0?(p.output+=C,c.output+=C):(p.output+=K,c.output+=K),T()!=="*"&&(p.output+=_,c.output+=_)),$(E)}for(;p.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(ee("closing","]"));p.output=b.escapeLast(p.output,"["),z("brackets")}for(;p.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(ee("closing",")"));p.output=b.escapeLast(p.output,"("),z("parens")}for(;p.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(ee("closing","}"));p.output=b.escapeLast(p.output,"{"),z("braces")}if(r.strictSlashes!==!0&&(c.type==="star"||c.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${x}?`}),p.backtrack===!0){p.output="";for(let E of p.tokens)p.output+=E.output!=null?E.output:E.value,E.suffix&&(p.output+=E.suffix)}return p};_t.fastpaths=(e,t)=>{let r=Object.assign({},t),n=typeof r.maxLength=="number"?Math.min(_e,r.maxLength):_e,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=dt[e]||e;let i=b.isWindows(t),{DOT_LITERAL:a,SLASH_LITERAL:l,ONE_CHAR:f,DOTS_SLASH:g,NO_DOT:h,NO_DOTS:y,NO_DOTS_SLASH:o,STAR:x,START_ANCHOR:_}=V.globChars(i),d=r.capture?"":"?:",A=r.bash===!0?".*?":x,m=r.dot?y:h,C=r.dot?o:h;r.capture&&(A=`(${A})`);let H=k=>`(${d}(?:(?!${_}${k.dot?g:a}).)*?)`,v=k=>{switch(k){case"*":return`${m}${f}${A}`;case".*":return`${a}${f}${A}`;case"*.*":return`${m}${A}${a}${f}${A}`;case"*/*":return`${m}${A}${l}${f}${C}${A}`;case"**":return m+H(r);case"**/*":return`(?:${m}${H(r)}${l})?${C}${f}${A}`;case"**/*.*":return`(?:${m}${H(r)}${l})?${C}${A}${a}${f}${A}`;case"**/.*":return`(?:${m}${H(r)}${l})?${a}${f}${A}`;default:{let P=/^(.*?)\.(\w+)$/.exec(k);if(!P)return;let K=v(P[1],t);return K?K+a+P[2]:void 0}}},I=v(e);return I&&r.strictSlashes!==!0&&(I+=`${l}?`),I};var Et=_t,N=(e,t,r=!1)=>{if(Array.isArray(e)){let g=e.map(h=>N(h,t,r));return h=>{for(let y of g){let o=y(h);if(o)return o}return!1}}if(typeof e!="string"||e==="")throw new TypeError("Expected pattern to be a non-empty string");let n=t||{},s=b.isWindows(t),i=N.makeRe(e,t,!1,!0),a=i.state;delete i.state;let l=()=>!1;if(n.ignore){let g=Object.assign({},t,{ignore:null,onMatch:null,onResult:null});l=N(n.ignore,g,r)}let f=(g,h=!1)=>{let{isMatch:y,match:o,output:x}=N.test(g,i,t,{glob:e,posix:s}),_={glob:e,state:a,regex:i,posix:s,input:g,output:x,match:o,isMatch:y};return typeof n.onResult=="function"&&n.onResult(_),y===!1?(_.isMatch=!1,h?_:!1):l(g)?(typeof n.onIgnore=="function"&&n.onIgnore(_),_.isMatch=!1,h?_:!1):(typeof n.onMatch=="function"&&n.onMatch(_),h?_:!0)};return r&&(f.state=a),f};N.test=(e,t,r,{glob:n,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let i=r||{},a=i.format||(s?b.toPosixSlashes:null),l=e===n,f=l&&a?a(e):e;return l===!1&&(f=a?a(e):e,l=f===n),(l===!1||i.capture===!0)&&(i.matchBase===!0||i.basename===!0?l=N.matchBase(e,t,r,s):l=t.exec(f)),{isMatch:!!l,match:l,output:f}};N.matchBase=(e,t,r,n=b.isWindows(r))=>(t instanceof RegExp?t:N.makeRe(t,r)).test(He.basename(e));N.isMatch=(e,t,r)=>N(t,r)(e);N.parse=(e,t)=>Et(e,t);N.scan=(e,t)=>Dr(e,t);N.makeRe=(e,t,r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s=t||{},i=s.contains?"":"^",a=s.contains?"":"$",l={negated:!1,fastpaths:!0},f="",g;if(e.startsWith("./")&&(e=e.slice(2),f=l.prefix="./"),s.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(g=Et.fastpaths(e,t)),g===void 0&&(l=N.parse(e,t),l.prefix=f+(l.prefix||""),g=l.output),r===!0)return g;let h=`${i}(?:${g})${a}`;l&&l.negated===!0&&(h=`^(?!${h}).*$`);let y=N.toRegex(h,t);return n===!0&&(y.state=l),y};N.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};N.constants=V;var Wr=N,F=Wr,nt=e=>typeof e=="string"&&(e===""||e==="./"),O=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,s=new Set,i=new Set,a=0,l=h=>{i.add(h.output),r&&r.onResult&&r.onResult(h)};for(let h=0;h<t.length;h++){let y=F(String(t[h]),Object.assign({},r,{onResult:l}),!0),o=y.state.negated||y.state.negatedExtglob;o&&a++;for(let x of e){let _=y(x,!0);(o?!_.isMatch:_.isMatch)&&(o?n.add(_.output):(n.delete(_.output),s.add(_.output)))}}let g=(a===t.length?[...i]:[...s]).filter(h=>!n.has(h));if(r&&g.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(h=>h.replace(/\\/g,"")):t}return g};O.match=O;O.matcher=(e,t)=>F(e,t);O.isMatch=(e,t,r)=>F(t,r)(e);O.any=O.isMatch;O.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,s=[],a=O(e,t,Object.assign({},r,{onResult:l=>{r.onResult&&r.onResult(l),s.push(l.output)}}));for(let l of s)a.includes(l)||n.add(l);return[...n]};O.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Oe.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>O.contains(e,n,r));if(typeof t=="string"){if(nt(e)||nt(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return O.isMatch(e,t,Object.assign({},r,{contains:!0}))};O.matchKeys=(e,t,r)=>{if(!b.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=O(Object.keys(e),t,r),s={};for(let i of n)s[i]=e[i];return s};O.some=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let i=F(String(s),r);if(n.some(a=>i(a)))return!0}return!1};O.every=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let i=F(String(s),r);if(!n.every(a=>i(a)))return!1}return!0};O.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Oe.inspect(e)}"`);return[].concat(t).every(n=>F(n,r)(e))};O.capture=(e,t,r)=>{let n=b.isWindows(r),i=F.makeRe(String(e),Object.assign({},r,{capture:!0})).exec(n?b.toPosixSlashes(t):t);if(i)return i.slice(1).map(a=>a===void 0?"":a)};O.makeRe=(...e)=>F.makeRe(...e);O.scan=(...e)=>F.scan(...e);O.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let s of ht(String(n),t))r.push(F.parse(s,t));return r};O.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:ht(e,t)};O.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return O.braces(e,Object.assign({},t,{expand:!0}))};var Qr=O;function st(e){return Array.isArray(e)?e:e==null?[]:[e]}function Xr(e,t){return t===!1?e:ie.resolve(...typeof t=="string"?[t,e]:[e])}var zr=function(t,r,n){let s=n&&n.resolve,i=f=>f instanceof RegExp?f:{test:Qr.matcher(Xr(f,s).split(ie.sep).join("/"),{dot:!0})},a=st(t).map(i),l=st(r).map(i);return function(f){if(typeof f!="string"||/\0/.test(f))return!1;f=f.split(ie.sep).join("/");for(let g=0;g<l.length;++g)if(l[g].test(f))return!1;for(let g=0;g<a.length;++g)if(a[g].test(f))return!0;return!a.length}},Zr="break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public",qr="arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl",mt=new Set(`${Zr} ${qr}`.split(" "));mt.add("");var we=function(t){return t=t.replace(/-(\w)/g,(r,n)=>n.toUpperCase()).replace(/[^$_a-zA-Z0-9]/g,"_"),(/\d/.test(t[0])||mt.has(t))&&(t=`_${t}`),t||"_"};function Ne(e){return(JSON.stringify(e)||"undefined").replace(/[\u2028\u2029]/g,t=>`\\u${("000"+t.charCodeAt(0).toString(16)).slice(-4)}`)}function Yr(e,t,r){let n="[",s=t?`
`+r+t:"";for(let i=0;i<e.length;i++){let a=e[i];n+=`${i>0?",":""}${s}${ae(a,t,r+t)}`}return n+`${t?`
`+r:""}]`}function Vr(e,t,r){let n="{",s=t?`
`+r+t:"",i=Object.keys(e);for(let a=0;a<i.length;a++){let l=i[a],f=we(l)===l?l:Ne(l);n+=`${a>0?",":""}${s}${f}:${t?" ":""}${ae(e[l],t,r+t)}`}return n+`${t?`
`+r:""}}`}function ae(e,t,r){return e===1/0?"Infinity":e===-1/0?"-Infinity":e===0&&1/e===-1/0?"-0":e instanceof Date?"new Date("+e.getTime()+")":e instanceof RegExp?e.toString():e!==e?"NaN":Array.isArray(e)?Yr(e,t,r):e===null?"null":typeof e=="object"?Vr(e,t,r):Ne(e)}var Jr=function(t,r={}){let n=r.compact?"":"indent"in r?r.indent:"	",s=r.compact?"":" ",i=r.compact?"":`
`,a=r.preferConst?"const":"var";if(r.namedExports===!1||typeof t!="object"||Array.isArray(t)||t instanceof Date||t instanceof RegExp||t===null){let h=ae(t,r.compact?null:n,"");return`export default${s||(/^[{[\-\/]/.test(h)?"":" ")}${h};`}let l="",f=[],g=Object.keys(t);for(let h=0;h<g.length;h++){let y=g[h];y===we(y)?(r.objectShorthand?f.push(y):f.push(`${y}:${s}${y}`),l+=`export ${a} ${y}${s}=${s}${ae(t[y],r.compact?null:n,"")};${i}`):f.push(`${Ne(y)}:${s}${ae(t[y],r.compact?null:n,"")}`)}return l+`export default${s}{${i}${n}${f.join(`,${i}${n}`)}${i}};${i}`};Q.addExtension=Bt;Q.attachScopes=Ut;Q.createFilter=zr;Q.dataToEsm=Jr;Q.extractAssignedNames=be;Q.makeLegalIdentifier=we});var bt=Mt(Ct(),1);import en from"node:fs";import tn from"node:path";import{fileURLToPath as rn}from"node:url";import{createUnplugin as nn}from"unplugin";var sn=rn(new URL(".",import.meta.url)),an=/\.(jsx|tsx|html|vue|svelte)/,Ie="vidstack/bundle",ln="media-",St="vds-",un=tn.resolve(sn,"./elements.json"),on=en.readFileSync(un,"utf8"),cn=JSON.parse(on),oe={"vds-buffering-indicator":"buffering.css","vds-button":"buttons.css","vds-captions":"captions.css","vds-chapter-title":"chapter-title.css","vds-controls":"controls.css","vds-gesture":"gestures.css","vds-icon":"icons.css","vds-kb-action":"keyboard.css","vds-menu":"menus.css","vds-poster":"poster.css","vds-slider":"sliders.css","vds-thumbnail":"thumbnail.css","vds-time":"time.css","vds-tooltip":"tooltips.css",audio:"layouts/audio.css",video:"layouts/video.css"};for(let e of Object.keys(oe))oe[e]=`vidstack/player/styles/default/${oe[e]}`;var ce=nn((e={})=>{let t=e.include??an,r=(0,bt.createFilter)(t,e.exclude),n={elementsGraph:new Map,stylesGraph:new Map},s=!1,i=!1,a=!1,l=new Map,f=new Map,g=new Set,h=null;function y(){return s||i}function o(A,m){let{elementsGraph:C,stylesGraph:H}=n,{elements:v,styles:I}=fn(m);return v.size&&(v.has("media-audio-layout")&&(s=!0),v.has("media-video-layout")&&(i=!0),v.has("media-plyr-layout")&&(a=!0),C.set(A,v)),I.size&&H.set(A,I),{elements:v,styles:I}}function x(){if(h){_(Ie);for(let A of l.keys())_(A)}}function _(A){let m=h?.moduleGraph.getModuleById(A);m&&h?.moduleGraph.invalidateModule(m)}function d(){h?.hot.send({type:"full-reload"})}return[{name:"vidstack-pre",enforce:"pre",resolveId(A){if(A===Ie)return A;if(l.has(A))return A},load(A){if(A===Ie)return pn({defaultAudioLayout:s,defaultVideoLayout:i,plyrLayout:a});if(l.has(A)){if(y())return"";let m=l.get(A),C=n.elementsGraph.get(m),H=n.stylesGraph.get(m);return C||H?hn(C,H):""}return null},transformInclude(A){return r(A)},transform(A,m){return o(m,A),null},vite:{configureServer(A){h=A},async handleHotUpdate({file:A,read:m}){if(!r(A))return;let C=n.elementsGraph.get(A),H=n.stylesGraph.get(A),{elements:v,styles:I}=o(A,await m()),k=ke(C,v,"media-audio-layout")||ke(C,v,"media-video-layout")||ke(C,v,"media-plyr-layout");if(n.elementsGraph.set(A,v),n.stylesGraph.set(A,I),k){s=!1,i=!1,a=!1,x(),d();return}if(!($t(C,v)&&$t(H,I))){let K=f.get(A);K&&(_(K),d())}}}},{name:"vidstack-post",enforce:"post",transformInclude(A){return r(A)},transform(A,m){let{elementsGraph:C,stylesGraph:H}=n,v=C.get(m),I=H.get(m);if(v?.size||I?.size){let k=f.get(m);return k||(k=`:vidstack/chunk-${l.size}`,l.set(k,m),f.set(m,k)),A.startsWith(`import "${k}";`)?A:`import "${k}";
`+A}return null}}]}),ue=0,vt=1,xt=2;function fn(e){let t=ue,r="",n="",s=new Set,i=new Set;for(let a=0;a<e.length;a++)switch(r=e[a],t){case ue:r==="<"&&e[a+1]!=="/"?(n="",t=vt):r==="v"&&e[a+1]==="d"&&e[a+2]==="s"&&e[a+3]==="-"&&(n="v",t=xt);break;case vt:r===" "||r===">"||r===`
`||r==="\r"?(n.startsWith(ln)&&s.add(n),n="",t=ue):n+=r;break;case xt:n.startsWith(St)?(n+=r,n in oe&&(i.add(oe[n]),n="",t=ue)):r===" "||r===`
`||r==="\r"||n.length>St.length?t=ue:n+=r;break}return s.delete("media-player"),s.delete("media-provider"),{elements:s,styles:i}}function pn({defaultAudioLayout:e=!1,defaultVideoLayout:t=!1,plyrLayout:r=!1}){let n=[],s=[];return e||t?(n.push('import "vidstack/player/styles/default/theme.css";'),r&&n.push('import "vidstack/player/styles/plyr/theme.css";'),e&&n.push('import "vidstack/player/styles/default/layouts/audio.css";'),t&&n.push('import "vidstack/player/styles/default/layouts/video.css";'),s.push(`import "vidstack/player/layouts${r?"":"/default"}";`),s.push('import "vidstack/player/ui";')):(n.push('import "vidstack/player/styles/base.css";'),r&&(n.push('import "vidstack/player/styles/plyr/theme.css";'),s.push('import "vidstack/player/layouts/plyr";'))),[...n,'import "vidstack/player";',...s].join(`
`)}function hn(e=new Set,t=new Set){let r=[],n=new Set;for(let a of t)r.push(`import "${a}";`);for(let a of e){if(!e.has(a))continue;let l=cn[a];l?n.add(l):l!=="media-icon"&&console.warn(`[vidstack]: unknown media element was found \`${a}\``)}if(n.size===0)return r.join(`
`);let s=["defineCustomElement",...n];r.push(`import {
${s.join(`,
`)}
} from "vidstack/elements";`);let i=[...n].map(a=>`defineCustomElement(${a});`);return r.join(`
`)+`

`+i.join(`
`)}function ke(e,t,r){return!!e&&!!t&&e.has(r)&&t.has(r)}function $t(e,t){return!e?.size&&!t?.size||!!e&&!!t&&e.size===t.size&&[...e].every(r=>t.has(r))}var Bn=e=>ce.vite(e),Dn=e=>ce.rollup(e),Un=e=>ce.webpack(e),Gn=e=>ce.rspack(e),Fn=e=>ce.esbuild(e);export{Fn as esbuild,Dn as rollup,Gn as rspack,ce as unplugin,Bn as vite,Un as webpack};
