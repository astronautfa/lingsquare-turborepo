import{O as m,P as A,Q as g,W as T,X as y,e as b,n as $,q as d}from"./vidstack-SHDDQIF4.js";var l=Symbol(0),S=Symbol(0),f=Symbol(0),p=Symbol(0);var k=t=>t===null?"":t+"",N=t=>t===null?null:t+"",E=t=>t===null?0:Number(t);var P=t=>t!==null,w=()=>null,O=t=>t===null?[]:JSON.parse(t),B=t=>t===null?{}:JSON.parse(t);function L(t){if(t===null)return N;switch(typeof t){case"undefined":return k;case"string":return k;case"boolean":return P;case"number":return E;case"function":return w;case"object":return d(t)?O:B;default:return k}}function J(t,e){var c,h,o;class a extends t{constructor(...s){if(super(...s),this[h]=0,this[o]=null,this.keepAlive=!1,this.forwardKeepAlive=!0,this.$=b(()=>g(e),null),this.$.$$.t(this),e.props){let r=this.$props,i=Object.getOwnPropertyDescriptors(this);for(let n of Object.keys(i))n in e.props&&(r[n].set(this[n]),delete this[n])}}static{this[c]=null}static get observedAttributes(){if(!this[l]&&e.props){let s=new Map;for(let r of Object.keys(e.props)){let i=this.attrs?.[r],n=$(i)?i:i&&i?.attr;n!==!1&&(n||(n=y(r)),s.set(n,{C:r,B:i&&!$(i)&&i?.converter||L(e.props[r])}))}this[l]=s}return this[l]?Array.from(this[l].keys()):[]}get scope(){return this.$.$$.d}get attachScope(){return this.$.$$.f}get connectScope(){return this.$.$$.g}get $props(){return this.$.$$.i}get $state(){return this.$.$$.h}get state(){return this.$.state}attributeChangedCallback(s,r,i){let n=this.constructor;if(!n[l]){super.attributeChangedCallback?.(s,r,i);return}let u=n[l].get(s);u&&(this[u.C]=u.B(i))}connectedCallback(){let s=this.$?.$$;if(!s||s.o)return;if(this[f]!==2){R.call(this);return}if(!this.isConnected)return;this.hasAttribute("keep-alive")&&(this.keepAlive=!0),s.y(),d(this[p])&&T(this[p],this),this[p]=null;let r=super.connectedCallback;r&&b(()=>r.call(this),this.connectScope)}disconnectedCallback(){let s=this.$?.$$;if(!s||s.o)return;s.z();let r=super.disconnectedCallback;r&&r.call(this),!this.keepAlive&&!this.hasAttribute("keep-alive")&&setTimeout(()=>{requestAnimationFrame(()=>{this.isConnected||s.p()})},0)}[(c=l,h=f,o=p,S)](){let s=this.$.$$,r=this.constructor;if(s.o)return;let i=r[l];if(i)for(let n of this.attributes){let u=i.get(n.name);u&&u.B&&s.i[u.C].set(u.B(this.getAttribute(n.name)))}s.w(),s.x(this),this[f]=2,this.connectedCallback()}subscribe(s){return this.$.subscribe(s)}destroy(){this.disconnectedCallback(),this.$.destroy()}}return U(a,e),a}function U(t,e){let c=t.prototype,h=e.prototype;if(e.props)for(let o of Object.keys(e.props))Object.defineProperty(c,o,{enumerable:!0,configurable:!0,get(){return this.$props[o]()},set(a){this.$props[o].set(a)}});if(h[m])for(let o of h[m])Object.defineProperty(c,o,{enumerable:!0,configurable:!0,get(){return this.$[o]},set(a){this.$[o]=a}});if(h[A])for(let o of h[A])c[o]=function(...a){return this.$[o](...a)}}function R(){if(this[f]!==0)return;this[f]=1;let t=j(this),e=t&&window.customElements.get(t.localName),c=t&&t[f]===2;if(t&&(!e||!c)){_.call(this,t);return}C.call(this,t)}async function _(t){await window.customElements.whenDefined(t.localName),t[f]!==2&&await new Promise(e=>(t[p]??=[]).push(e)),C.call(this,t)}function C(t){if(this.isConnected){if(t){t.keepAlive&&t.forwardKeepAlive&&(this.keepAlive=!0,this.setAttribute("keep-alive",""));let e=this.$.$$.d;e&&t.$.$$.f.append(e)}this[S]()}}function j(t){let e=t.parentNode,c=t.localName.split("-",1)[0]+"-";for(;e;){if(e.nodeType===1&&e.localName.startsWith(c))return e;e=e.parentNode}return null}export{J as a};
