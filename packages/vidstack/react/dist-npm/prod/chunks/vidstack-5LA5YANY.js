import{w as p,x as m}from"./vidstack-RMERH5DU.js";import{ga as u,l as s,ma as l,q as o,r as c}from"./vidstack-YO4XO2QW.js";function S(r,t){let e=new URLSearchParams;for(let n of Object.keys(t))e.set(n,t[n]+"");return r+"?"+e.toString()}function y(r,t="preconnect"){if(l)return!1;let e=document.querySelector(`link[href="${r}"]`);if(!s(e))return!0;let n=document.createElement("link");return n.rel=t,n.href=r,n.crossOrigin="true",document.head.append(n),!0}var i={};function R(r){if(i[r])return i[r].promise;let t=u(),e=document.querySelector(`script[src="${r}"]`);if(!s(e))return t.resolve(),t.promise;let n=document.createElement("script");return n.src=r,n.onload=()=>{t.resolve(),delete i[r]},n.onerror=()=>{t.reject(),delete i[r]},setTimeout(()=>document.head.append(n),0),t.promise}function x(r){return r==="use-credentials"?"include":o(r)?"same-origin":void 0}function h({title:r,src:t,download:e}){let n=c(e)||e===""?t.src:o(e)?e:e?.url;return f({url:n,src:t,download:e})?{url:n,name:!c(e)&&!o(e)&&e?.filename||r.toLowerCase()||"media"}:null}function f({url:r,src:t,download:e}){return o(r)&&(e&&e!==!0||p(t)||m(t))}export{S as a,y as b,R as c,x as d,h as e};
