var f=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,r=new Map,n=new Map;function l(t){return t.match(f)?.[1]}async function b(t,s){if(r.has(t))return r.get(t);if(n.has(t))return n.get(t);let e=new Promise(async u=>{let c=["maxresdefault","sddefault","hqdefault"];for(let i of c)for(let a of[!0,!1]){let o=g(t,i,a);if((await fetch(o,{mode:"no-cors",signal:s.signal})).status<400){r.set(t,o),u(o);return}}}).catch(()=>"").finally(()=>n.delete(t));return n.set(t,e),e}function g(t,s,e){return`https://i.ytimg.com/${e?"vi_webp":"vi"}/${t}/${s}.${e?"webp":"jpg"}`}export{l as a,b};
