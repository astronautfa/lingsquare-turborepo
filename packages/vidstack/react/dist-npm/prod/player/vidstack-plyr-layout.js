"use client";

import{a as be,b as Re,c as Se}from"../chunks/vidstack-CM7NX3CG.js";import"../chunks/vidstack-D5Y63PX4.js";import"../chunks/vidstack-UIV5RMAD.js";import"../chunks/vidstack-RZETUGIV.js";import"../chunks/vidstack-44S676AP.js";import"../chunks/vidstack-5ZRQZXZE.js";import{a as st}from"../chunks/vidstack-OFZR5D7A.js";import{a as Be,f as Le}from"../chunks/vidstack-VNQEWBHS.js";import{B as W,D as v,E as T,G,H as O,J as Q,L as H,M as K,O as ve,P as Te,a as V,b as ue,c as F,d as pe,e as me,f as ce,g as ye,h as A,i as de,o as D,p as M,s as _e,u as Pe,v as fe,x as Ne}from"../chunks/vidstack-UWNWDLQA.js";import{a as xe,b as Me,c as ge}from"../chunks/vidstack-FEYUS47P.js";import"../chunks/vidstack-RD2FNNMW.js";import{P as ie,Q as p}from"../chunks/vidstack-22WVJGJM.js";import{Ga as se,Ia as x}from"../chunks/vidstack-JWEPUGMK.js";import"../chunks/vidstack-U3MKAWKX.js";import"../chunks/vidstack-MDPL2QMH.js";import"../chunks/vidstack-YHRZY7KJ.js";import"../chunks/vidstack-5IOIYQ2Y.js";import"../chunks/vidstack-HN3GYGQE.js";import"../chunks/vidstack-X63HW5FO.js";import"../chunks/vidstack-XKIWRSNW.js";import{e as ne}from"../chunks/vidstack-5LA5YANY.js";import"../chunks/vidstack-RMERH5DU.js";import{$ as le,B as re,F as E,H as I,Y as oe,ba as _,h as Z,m as ee,ma as ae,p as te}from"../chunks/vidstack-YO4XO2QW.js";import"../chunks/vidstack-IZJX5FHF.js";import"../chunks/vidstack-IGJ6WVY6.js";import*as e from"react";import*as g from"react";var B=g.createContext({});B.displayName="PlyrLayoutContext";function s(){return g.useContext(B)}function n(t){let{translations:r}=s();return U(r,t)}function U(t,r){return t?.[r]??r}var we={clickToPlay:!0,clickToFullscreen:!0,controls:["play-large","play","progress","current-time","mute+volume","captions","settings","pip","airplay","fullscreen"],displayDuration:!1,download:null,markers:null,invertTime:!0,thumbnails:null,toggleTime:!0,translations:null,seekTime:10,speed:[.5,.75,1,1.25,1.5,1.75,2,4]};import*as L from"react";function u(t,r){let{slots:o}=s(),l=o?.[t],a=oe(t);return L.createElement(L.Fragment,null,o?.[`before${a}`],ee(l)?r:l,o?.[`after${a}`])}var ke=e.forwardRef((t,r)=>{let{clickToPlay:o,clickToFullscreen:l,controls:a,displayDuration:i,download:m,markers:c,invertTime:P,thumbnails:y,toggleTime:d,translations:N,seekTime:w,speed:k,icons:b,slots:f,posterFrame:h,className:Y,...ot}={...we,...t},[S,lt]=e.useState(null),C=V(),at=e.useMemo(()=>Z(0),[]),$=p("viewType");return Le("plyr"),Be(S,Y),e.useEffect(()=>{if(!(!S||!C))return se(S,C)},[S,C]),e.createElement(B.Provider,{value:{clickToPlay:o,clickToFullscreen:l,controls:a,displayDuration:i,download:m,markers:c,invertTime:P,thumbnails:y,toggleTime:d,translations:N,seekTime:w,speed:k,previewTime:at,icons:b,slots:f,posterFrame:h}},e.createElement(ie.div,{...ot,className:ae?`plyr plyr--full-ui plyr--${$} ${Y||""}`:void 0,ref:le(lt,r)},$==="audio"?e.createElement(j,null):$==="video"?e.createElement(J,null):null))});ke.displayName="PlyrLayout";function j(){return Ce()}j.displayName="PlyrAudioLayout";function J(){let t=V(),{controls:r}=s(),{load:o}=t.$props,{canLoad:l}=t.$state,a=_(o),i=_(l);return a==="play"&&!i?e.createElement(e.Fragment,null,e.createElement(z,null),e.createElement(q,null)):e.createElement(e.Fragment,null,r.includes("play-large")?e.createElement(z,null):null,e.createElement(he,null),e.createElement(q,null),e.createElement($e,null),e.createElement(je,null),e.createElement(Je,null))}J.displayName="PlyrVideoLayout";function z(){let{translations:t,icons:r}=s(),o=p("title"),l=`${U(t,"Play")} ${o}`;return u("playLargeButton",e.createElement(F,{className:"plyr__control plyr__control--overlaid","aria-label":l,"data-plyr":"play"},e.createElement(r.Play,null)))}z.displayName="PlyrPlayLargeButton";function he(){let t=p("source"),{thumbnails:r,previewTime:o}=s(),l=_(o),a=_(xe);return a&&x(t)?e.createElement(a,{className:"plyr__preview-scrubbing",frame:l*t.fps}):e.createElement(Pe,{src:r,className:"plyr__preview-scrubbing",time:l},e.createElement(fe,null))}he.displayName="PlyrPreviewScrubbing";function q(){let t=p("source"),r=p("poster"),{posterFrame:o}=s(),l=_(ge),a=l&&x(t)&&te(o);return u("poster",a?e.createElement(l,{frame:o,className:"plyr__poster"}):e.createElement("div",{className:"plyr__poster",style:{backgroundImage:`url("${r}")`}}))}q.displayName="PlyrPoster";var nt=new Set(["captions","pip","airplay","fullscreen"]);function Ce(){let{controls:t}=s();return e.createElement("div",{className:"plyr__controls"},t.filter(r=>!nt.has(r)).map((r,o)=>{let l=Ee(r);return l?e.createElement(l,{key:o}):null}))}Ce.displayName="PlyrAudioControls";function $e(){let{controls:t}=s();return e.createElement("div",{className:"plyr__controls"},t.map((r,o)=>{let l=Ee(r);return l?e.createElement(l,{key:o}):null}))}$e.displayName="PlyrVideoControls";function Ee(t){switch(t){case"airplay":return Ie;case"captions":return Ve;case"current-time":return ze;case"download":return qe;case"duration":return X;case"fast-forward":return Oe;case"fullscreen":return Fe;case"mute":case"volume":case"mute+volume":return()=>Ue({type:t});case"pip":return Ae;case"play":return We;case"progress":return He;case"restart":return Ge;case"rewind":return Qe;case"settings":return Xe;default:return null}}function Ie(){let{icons:t}=s(),r=n("AirPlay");return u("airPlayButton",e.createElement(ue,{className:"plyr__controls__item plyr__control","data-plyr":"airplay"},e.createElement(t.AirPlay,null),e.createElement("span",{className:"plyr__tooltip"},r)))}Ie.displayName="PlyrAirPlayButton";function Ve(){let{icons:t}=s(),r=n("Enable captions"),o=n("Disable captions");return u("captionsButton",e.createElement(pe,{className:"plyr__controls__item plyr__control","data-no-label":!0,"data-plyr":"captions"},e.createElement(t.CaptionsOn,{className:"icon--pressed"}),e.createElement(t.CaptionsOff,{className:"icon--not-pressed"}),e.createElement("span",{className:"label--pressed plyr__tooltip"},o),e.createElement("span",{className:"label--not-pressed plyr__tooltip"},r)))}Ve.displayName="PlyrCaptionsButton";function Fe(){let{icons:t}=s(),r=n("Enter Fullscreen"),o=n("Exit Fullscreen");return u("fullscreenButton",e.createElement(me,{className:"plyr__controls__item plyr__control","data-no-label":!0,"data-plyr":"fullscreen"},e.createElement(t.EnterFullscreen,{className:"icon--pressed"}),e.createElement(t.ExitFullscreen,{className:"icon--not-pressed"}),e.createElement("span",{className:"label--pressed plyr__tooltip"},o),e.createElement("span",{className:"label--not-pressed plyr__tooltip"},r)))}Fe.displayName="PlyrFullscreenButton";function Ae(){let{icons:t}=s(),r=n("Enter PiP"),o=n("Exit PiP");return u("pipButton",e.createElement(ye,{className:"plyr__controls__item plyr__control","data-no-label":!0,"data-plyr":"pip"},e.createElement(t.EnterPiP,{className:"icon--pressed"}),e.createElement(t.ExitPiP,{className:"icon--not-pressed"}),e.createElement("span",{className:"label--pressed plyr__tooltip"},o),e.createElement("span",{className:"label--not-pressed plyr__tooltip"},r)))}Ae.displayName="PlyrPIPButton";function De(){let{icons:t}=s(),r=n("Mute"),o=n("Unmute");return u("muteButton",e.createElement(ce,{className:"plyr__control","data-no-label":!0,"data-plyr":"mute"},e.createElement(t.Muted,{className:"icon--pressed"}),e.createElement(t.Volume,{className:"icon--not-pressed"}),e.createElement("span",{className:"label--pressed plyr__tooltip"},o),e.createElement("span",{className:"label--not-pressed plyr__tooltip"},r)))}De.displayName="PlyrMuteButton";function We(){let{icons:t}=s(),r=n("Play"),o=n("Pause");return u("playButton",e.createElement(F,{className:"plyr__controls__item plyr__control","data-no-label":!0,"data-plyr":"play"},e.createElement(t.Pause,{className:"icon--pressed"}),e.createElement(t.Play,{className:"icon--not-pressed"}),e.createElement("span",{className:"label--pressed plyr__tooltip"},o),e.createElement("span",{className:"label--not-pressed plyr__tooltip"},r)))}We.displayName="PlyrPlayButton";function Ge(){let{icons:t}=s(),r=n("Restart"),o=be();function l({nativeEvent:a}){E(a)&&!I(a)||o.seek(0,a)}return u("restartButton",e.createElement("button",{type:"button",className:"plyr__control","data-plyr":"restart",onPointerUp:l,onKeyDown:l},e.createElement("slot",{name:"restart-icon","data-class":""}),e.createElement(t.Restart,null),e.createElement("span",{className:"plyr__tooltip"},r)))}Ge.displayName="PlyrRestartButton";function Oe(){let{icons:t,seekTime:r}=s(),o=n("Forward"),l=`${o} ${r}s`;return u("fastForwardButton",e.createElement(A,{className:"plyr__controls__item plyr__control",seconds:r,"data-no-label":!0,"data-plyr":"fast-forward"},e.createElement(t.FastForward,null),e.createElement("span",{className:"plyr__tooltip"},l)))}Oe.displayName="PlyrFastForwardButton";function Qe(){let{icons:t,seekTime:r}=s(),o=n("Rewind"),l=`${o} ${r}s`;return u("rewindButton",e.createElement(A,{className:"plyr__controls__item plyr__control",seconds:-1*r,"data-no-label":!0,"data-plyr":"rewind"},e.createElement(t.Rewind,null),e.createElement("span",{className:"plyr__tooltip"},l)))}Qe.displayName="PlyrRewindButton";function He(){let{markers:t,thumbnails:r,seekTime:o,previewTime:l}=s(),a=p("source"),i=p("duration"),m=n("Seek"),[c,P]=e.useState(null),y=_(Me),d=y&&x(a);function N(f){l.set(f)}function w(){P(this)}function k(){P(null)}let b=c?e.createElement("span",{className:"plyr__progress__marker-label",dangerouslySetInnerHTML:{__html:c.label+"<br />"}}):null;return u("timeSlider",e.createElement("div",{className:"plyr__controls__item plyr__progress__container"},e.createElement("div",{className:"plyr__progress"},e.createElement(Ne,{className:"plyr__slider",pauseWhileDragging:!0,keyStep:o,"aria-label":m,"data-plyr":"seek",onMediaSeekingRequest:N},e.createElement("div",{className:"plyr__slider__track"}),e.createElement("div",{className:"plyr__slider__thumb"}),e.createElement("div",{className:"plyr__slider__buffer"}),!r&&!d?e.createElement("span",{className:"plyr__tooltip"},b,e.createElement(M,null)):d?e.createElement(D,{className:"plyr__slider__preview"},e.createElement("div",{className:"plyr__slider__preview__thumbnail"},e.createElement("span",{className:"plyr__slider__preview__time-container"},b,e.createElement(M,{className:"plyr__slider__preview__time"})),e.createElement(y,{className:"plyr__slider__preview__thumbnail"}))):e.createElement(D,{className:"plyr__slider__preview"},e.createElement(W.Root,{src:r,className:"plyr__slider__preview__thumbnail"},e.createElement("span",{className:"plyr__slider__preview__time-container"},b,e.createElement(M,{className:"plyr__slider__preview__time"})),e.createElement(W.Img,null))),t&&Number.isFinite(i)?t.map((f,h)=>e.createElement("span",{className:"plyr__progress__marker",key:h,onMouseEnter:w.bind(f),onMouseLeave:k,style:{left:`${f.time/i*100}%`}})):null))))}He.displayName="PlyrTimeSlider";function Ke(){let t=n("Volume");return u("volumeSlider",e.createElement(_e,{className:"plyr__slider","data-plyr":"volume","aria-label":t},e.createElement("div",{className:"plyr__slider__track"}),e.createElement("div",{className:"plyr__slider__thumb"})))}Ke.displayName="PlyrVolumeSlider";function Ue({type:t}){return e.createElement("div",{className:"plyr__controls__item plyr__volume"},t==="mute"||t==="mute+volume"?e.createElement(De,null):null,t==="volume"||t==="mute+volume"?e.createElement(Ke,null):null)}Ue.displayName="PlyrVolume";function ze(){let{invertTime:t,toggleTime:r,displayDuration:o}=s(),l=p("streamType"),a=n("Current time"),i=n("LIVE"),[m,c]=e.useState(t),P=!o&&m;function y({nativeEvent:d}){!r||o||E(d)&&!I(d)||c(N=>!N)}return u("currentTime",l==="live"||l==="ll-live"?e.createElement(de,{className:"plyr__controls__item plyr__control plyr__live-button","data-plyr":"live"},e.createElement("span",{className:"plyr__live-button__text"},i)):e.createElement(e.Fragment,null,e.createElement(K,{type:"current",className:"plyr__controls__item plyr__time plyr__time--current",role:"timer","aria-label":a,tabIndex:0,remainder:P,onPointerUp:y,onKeyDown:y}),o?e.createElement(X,null):null))}ze.displayName="PlyrCurrentTime";function X(){let t=n("Duration");return u("duration",e.createElement(K,{className:"plyr__controls__item plyr__time plyr__time--duration",type:"duration",role:"timer",tabIndex:0,"aria-label":t}))}X.displayName="PlyrDuration";function qe(){let{download:t}=s(),r=p("source"),o=p("title"),l=ne({title:o,src:r,download:t}),a=n("Download");return u("download",l?e.createElement("a",{className:"plyr__controls__item plyr__control",href:l.url+`?download=${l.name}`,download:l.name,target:"_blank"},e.createElement("slot",{name:"download-icon"}),e.createElement("span",{className:"plyr__tooltip"},a)):null)}qe.displayName="PlyrDownloadButton";function je(){let{clickToPlay:t,clickToFullscreen:r}=s();return e.createElement(e.Fragment,null,t?e.createElement(H,{className:"plyr__gesture",event:"pointerup",action:"toggle:paused"}):null,r?e.createElement(H,{className:"plyr__gesture",event:"dblpointerup",action:"toggle:fullscreen"}):null)}je.displayName="PlyrGestures";function Je(){let t=p("textTrack"),[r,o]=e.useState(null);return e.useEffect(()=>{if(!t)return;function l(){o(t?t.activeCues[0]:null)}return l(),re(t,"cue-change",l)},[t]),e.createElement("div",{className:"plyr__captions",dir:"auto"},e.createElement("span",{className:"plyr__caption",dangerouslySetInnerHTML:{__html:r?.text||""}}))}Je.displayName="PlyrCaptions";function Xe(){let{icons:t}=s(),r=n("Settings");return u("settings",e.createElement("div",{className:"plyr__controls__item plyr__menu"},e.createElement(G,null,e.createElement(O,{className:"plyr__control","data-plyr":"settings"},u("settingsButton",e.createElement(e.Fragment,null,e.createElement(t.Settings,null),e.createElement("span",{className:"plyr__tooltip"},r)))),e.createElement(Q,{className:"plyr__menu__container",placement:"top end"},e.createElement("div",null,e.createElement("div",null,u("settingsMenu",e.createElement(e.Fragment,null,e.createElement(Ze,null),e.createElement(tt,null),e.createElement(rt,null),e.createElement(et,null)))))))))}Xe.displayName="PlyrSettings";function Ye({label:t,hint:r,open:o,disabled:l}){let a=n(t),i=n("Go back to previous menu");return e.createElement(O,{className:`plyr__control plyr__control--${o?"back":"forward"}`,"data-plyr":"settings",disabled:l},e.createElement("span",{className:"plyr__menu__label","aria-hidden":o?"true":void 0},a),r?e.createElement("span",{className:"plyr__menu__value"},r):null,o?e.createElement("span",{className:"plyr__sr-only"},i):null)}Ye.displayName="PlyrMenuButton";function R({label:t,hint:r,children:o,disabled:l}){let[a,i]=e.useState(!1);function m(){i(!0)}function c(){i(!1)}return e.createElement(G,{onOpen:m,onClose:c},e.createElement(Ye,{label:t,open:a,hint:r,disabled:l}),e.createElement(Q,null,o))}R.displayName="PlyrMenu";function Ze(){let t=n("Default"),r=p("audioTrack"),o=ve();return e.createElement(R,{label:"Audio",hint:r?.label??t,disabled:o.disabled},e.createElement(v,{value:o.selectedValue},o.map(({label:l,value:a,select:i})=>e.createElement(T,{className:"plyr__control",value:a,onSelect:i,key:a},e.createElement("span",null,l)))))}Ze.displayName="PlyrAudioMenu";function et(){let t=n("Normal"),r=Se({normalLabel:t}),o=r.selectedValue==="1"?t:r.selectedValue+"x";return e.createElement(R,{label:"Speed",hint:o,disabled:r.disabled},e.createElement(v,{value:r.selectedValue},r.map(({label:l,value:a,select:i})=>e.createElement(T,{className:"plyr__control",value:a,onSelect:i,key:a},e.createElement("span",null,l)))))}et.displayName="PlyrSpeedMenu";function tt(){let t=n("Disabled"),r=Te({off:t}),o=r.selectedTrack?.label??t;return e.createElement(R,{label:"Captions",hint:o,disabled:r.disabled},e.createElement(v,{value:r.selectedValue},r.map(({label:l,value:a,select:i})=>e.createElement(T,{className:"plyr__control",value:a,onSelect:i,key:a},e.createElement("span",null,l)))))}tt.displayName="PlyrCaptionsMenu";function rt(){let t=n("Auto"),r=Re({auto:t,sort:"descending"}),o=r.selectedQuality?.height,l=r.selectedValue!=="auto"&&o?`${o}p`:`${t}${o?` (${o}p)`:""}`;return e.createElement(R,{label:"Quality",hint:l,disabled:r.disabled},e.createElement(v,{value:r.selectedValue},r.map(({label:a,value:i,select:m})=>e.createElement(T,{className:"plyr__control",value:i,onSelect:m,key:i},e.createElement("span",null,a)))))}rt.displayName="PlyrQualityMenu";export{j as PlyrAudioLayout,ke as PlyrLayout,B as PlyrLayoutContext,J as PlyrVideoLayout,U as i18n,st as plyrLayoutIcons,s as usePlyrLayoutContext,n as usePlyrLayoutWord};
