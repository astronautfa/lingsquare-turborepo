"use client";

import{a as Ne,b as Te,c as Re}from"../chunks/vidstack-YOK72QR6.js";import"../chunks/vidstack-HJNYYVQF.js";import"../chunks/vidstack-THMLD2JT.js";import"../chunks/vidstack-OOAFSRJK.js";import"../chunks/vidstack-PKYCOJEL.js";import"../chunks/vidstack-3UUIZI7M.js";import{a as nt}from"../chunks/vidstack-BMC45DPU.js";import{a as ge,f as Be}from"../chunks/vidstack-FA5BIYR3.js";import{B as W,D as v,E as T,G,H as O,J as Q,L as H,M as K,O as be,P as ve,a as E,b as ie,c as F,d as ue,e as pe,f as me,g as ce,h as A,i as ye,o as D,p as M,s as de,u as _e,v as Pe,x as fe}from"../chunks/vidstack-TKE2G2ON.js";import{a as Se,b as xe,c as Me}from"../chunks/vidstack-ND5UJM2I.js";import"../chunks/vidstack-CH4X22IW.js";import{P as se,Q as p}from"../chunks/vidstack-M4YOXUJA.js";import{Ga as ne,Ia as x}from"../chunks/vidstack-A4FWUYHK.js";import"../chunks/vidstack-S4PU3EFK.js";import"../chunks/vidstack-ZSHM5QYX.js";import"../chunks/vidstack-4NPRQMVP.js";import{e as ae}from"../chunks/vidstack-NJ5JBQRY.js";import"../chunks/vidstack-P4J5332Z.js";import"../chunks/vidstack-ZOZXRZOW.js";import"../chunks/vidstack-O3QVOQMW.js";import"../chunks/vidstack-6TJG5OUF.js";import"../chunks/vidstack-ISJILNRC.js";import"../chunks/vidstack-D22ZK42Y.js";import{$ as _,B as re,F as I,H as V,W as oe,Z as le,h as Z,m as ee,p as te}from"../chunks/vidstack-YVHLWECJ.js";import"../chunks/vidstack-YPI2SM2S.js";import*as e from"react";import*as g from"react";var B=g.createContext({});B.displayName="PlyrLayoutContext";function s(){return g.useContext(B)}function n(t){let{translations:r}=s();return U(r,t)}function U(t,r){return t?.[r]??r}var Le={clickToPlay:!0,clickToFullscreen:!0,controls:["play-large","play","progress","current-time","mute+volume","captions","settings","pip","airplay","fullscreen"],displayDuration:!1,download:null,markers:null,invertTime:!0,thumbnails:null,toggleTime:!0,translations:null,seekTime:10,speed:[.5,.75,1,1.25,1.5,1.75,2,4]};import*as L from"react";function u(t,r){let{slots:o}=s(),l=o?.[t],a=oe(t);return L.createElement(L.Fragment,null,o?.[`before${a}`],ee(l)?r:l,o?.[`after${a}`])}var we=e.forwardRef((t,r)=>{let{clickToPlay:o,clickToFullscreen:l,controls:a,displayDuration:i,download:m,markers:c,invertTime:P,thumbnails:y,toggleTime:d,translations:N,seekTime:w,speed:k,icons:b,slots:f,posterFrame:h,className:Y,...rt}={...Le,...t},[S,ot]=e.useState(null),C=E(),lt=e.useMemo(()=>Z(0),[]),$=p("viewType");return Be("plyr"),ge(S,Y),e.useEffect(()=>{if(!(!S||!C))return ne(S,C)},[S,C]),e.createElement(B.Provider,{value:{clickToPlay:o,clickToFullscreen:l,controls:a,displayDuration:i,download:m,markers:c,invertTime:P,thumbnails:y,toggleTime:d,translations:N,seekTime:w,speed:k,previewTime:lt,icons:b,slots:f,posterFrame:h}},e.createElement(se.div,{...rt,className:`plyr plyr--full-ui plyr--${$} ${Y||""}`,ref:le(ot,r)},$==="audio"?e.createElement(j,null):$==="video"?e.createElement(J,null):null))});we.displayName="PlyrLayout";function j(){return he()}j.displayName="PlyrAudioLayout";function J(){let t=E(),{controls:r}=s(),{load:o}=t.$props,{canLoad:l}=t.$state,a=_(o),i=_(l);return a==="play"&&!i?e.createElement(e.Fragment,null,e.createElement(z,null),e.createElement(q,null)):e.createElement(e.Fragment,null,r.includes("play-large")?e.createElement(z,null):null,e.createElement(ke,null),e.createElement(q,null),e.createElement(Ce,null),e.createElement(qe,null),e.createElement(je,null))}J.displayName="PlyrVideoLayout";function z(){let{translations:t,icons:r}=s(),o=p("title"),l=`${U(t,"Play")} ${o}`;return u("playLargeButton",e.createElement(F,{className:"plyr__control plyr__control--overlaid","aria-label":l,"data-plyr":"play"},e.createElement(r.Play,null)))}z.displayName="PlyrPlayLargeButton";function ke(){let t=p("source"),{thumbnails:r,previewTime:o}=s(),l=_(o),a=_(Se);return a&&x(t)?e.createElement(a,{className:"plyr__preview-scrubbing",frame:l*t.fps}):e.createElement(_e,{src:r,className:"plyr__preview-scrubbing",time:l},e.createElement(Pe,null))}ke.displayName="PlyrPreviewScrubbing";function q(){let t=p("source"),r=p("poster"),{posterFrame:o}=s(),l=_(Me),a=l&&x(t)&&te(o);return u("poster",a?e.createElement(l,{frame:o,className:"plyr__poster"}):e.createElement("div",{className:"plyr__poster",style:{backgroundImage:`url("${r}")`}}))}q.displayName="PlyrPoster";var at=new Set(["captions","pip","airplay","fullscreen"]);function he(){let{controls:t}=s();return e.createElement("div",{className:"plyr__controls"},t.filter(r=>!at.has(r)).map((r,o)=>{let l=$e(r);return l?e.createElement(l,{key:o}):null}))}he.displayName="PlyrAudioControls";function Ce(){let{controls:t}=s();return e.createElement("div",{className:"plyr__controls"},t.map((r,o)=>{let l=$e(r);return l?e.createElement(l,{key:o}):null}))}Ce.displayName="PlyrVideoControls";function $e(t){switch(t){case"airplay":return Ie;case"captions":return Ve;case"current-time":return Ue;case"download":return ze;case"duration":return X;case"fast-forward":return Ge;case"fullscreen":return Ee;case"mute":case"volume":case"mute+volume":return()=>Ke({type:t});case"pip":return Fe;case"play":return De;case"progress":return Qe;case"restart":return We;case"rewind":return Oe;case"settings":return Je;default:return null}}function Ie(){let{icons:t}=s(),r=n("AirPlay");return u("airPlayButton",e.createElement(ie,{className:"plyr__controls__item plyr__control","data-plyr":"airplay"},e.createElement(t.AirPlay,null),e.createElement("span",{className:"plyr__tooltip"},r)))}Ie.displayName="PlyrAirPlayButton";function Ve(){let{icons:t}=s(),r=n("Enable captions"),o=n("Disable captions");return u("captionsButton",e.createElement(ue,{className:"plyr__controls__item plyr__control","data-no-label":!0,"data-plyr":"captions"},e.createElement(t.CaptionsOn,{className:"icon--pressed"}),e.createElement(t.CaptionsOff,{className:"icon--not-pressed"}),e.createElement("span",{className:"label--pressed plyr__tooltip"},o),e.createElement("span",{className:"label--not-pressed plyr__tooltip"},r)))}Ve.displayName="PlyrCaptionsButton";function Ee(){let{icons:t}=s(),r=n("Enter Fullscreen"),o=n("Exit Fullscreen");return u("fullscreenButton",e.createElement(pe,{className:"plyr__controls__item plyr__control","data-no-label":!0,"data-plyr":"fullscreen"},e.createElement(t.EnterFullscreen,{className:"icon--pressed"}),e.createElement(t.ExitFullscreen,{className:"icon--not-pressed"}),e.createElement("span",{className:"label--pressed plyr__tooltip"},o),e.createElement("span",{className:"label--not-pressed plyr__tooltip"},r)))}Ee.displayName="PlyrFullscreenButton";function Fe(){let{icons:t}=s(),r=n("Enter PiP"),o=n("Exit PiP");return u("pipButton",e.createElement(ce,{className:"plyr__controls__item plyr__control","data-no-label":!0,"data-plyr":"pip"},e.createElement(t.EnterPiP,{className:"icon--pressed"}),e.createElement(t.ExitPiP,{className:"icon--not-pressed"}),e.createElement("span",{className:"label--pressed plyr__tooltip"},o),e.createElement("span",{className:"label--not-pressed plyr__tooltip"},r)))}Fe.displayName="PlyrPIPButton";function Ae(){let{icons:t}=s(),r=n("Mute"),o=n("Unmute");return u("muteButton",e.createElement(me,{className:"plyr__control","data-no-label":!0,"data-plyr":"mute"},e.createElement(t.Muted,{className:"icon--pressed"}),e.createElement(t.Volume,{className:"icon--not-pressed"}),e.createElement("span",{className:"label--pressed plyr__tooltip"},o),e.createElement("span",{className:"label--not-pressed plyr__tooltip"},r)))}Ae.displayName="PlyrMuteButton";function De(){let{icons:t}=s(),r=n("Play"),o=n("Pause");return u("playButton",e.createElement(F,{className:"plyr__controls__item plyr__control","data-no-label":!0,"data-plyr":"play"},e.createElement(t.Pause,{className:"icon--pressed"}),e.createElement(t.Play,{className:"icon--not-pressed"}),e.createElement("span",{className:"label--pressed plyr__tooltip"},o),e.createElement("span",{className:"label--not-pressed plyr__tooltip"},r)))}De.displayName="PlyrPlayButton";function We(){let{icons:t}=s(),r=n("Restart"),o=Ne();function l({nativeEvent:a}){I(a)&&!V(a)||o.seek(0,a)}return u("restartButton",e.createElement("button",{type:"button",className:"plyr__control","data-plyr":"restart",onPointerUp:l,onKeyDown:l},e.createElement("slot",{name:"restart-icon","data-class":""}),e.createElement(t.Restart,null),e.createElement("span",{className:"plyr__tooltip"},r)))}We.displayName="PlyrRestartButton";function Ge(){let{icons:t,seekTime:r}=s(),o=n("Forward"),l=`${o} ${r}s`;return u("fastForwardButton",e.createElement(A,{className:"plyr__controls__item plyr__control",seconds:r,"data-no-label":!0,"data-plyr":"fast-forward"},e.createElement(t.FastForward,null),e.createElement("span",{className:"plyr__tooltip"},l)))}Ge.displayName="PlyrFastForwardButton";function Oe(){let{icons:t,seekTime:r}=s(),o=n("Rewind"),l=`${o} ${r}s`;return u("rewindButton",e.createElement(A,{className:"plyr__controls__item plyr__control",seconds:-1*r,"data-no-label":!0,"data-plyr":"rewind"},e.createElement(t.Rewind,null),e.createElement("span",{className:"plyr__tooltip"},l)))}Oe.displayName="PlyrRewindButton";function Qe(){let{markers:t,thumbnails:r,seekTime:o,previewTime:l}=s(),a=p("source"),i=p("duration"),m=n("Seek"),[c,P]=e.useState(null),y=_(xe),d=y&&x(a);function N(f){l.set(f)}function w(){P(this)}function k(){P(null)}let b=c?e.createElement("span",{className:"plyr__progress__marker-label",dangerouslySetInnerHTML:{__html:c.label+"<br />"}}):null;return u("timeSlider",e.createElement("div",{className:"plyr__controls__item plyr__progress__container"},e.createElement("div",{className:"plyr__progress"},e.createElement(fe,{className:"plyr__slider",pauseWhileDragging:!0,keyStep:o,"aria-label":m,"data-plyr":"seek",onMediaSeekingRequest:N},e.createElement("div",{className:"plyr__slider__track"}),e.createElement("div",{className:"plyr__slider__thumb"}),e.createElement("div",{className:"plyr__slider__buffer"}),!r&&!d?e.createElement("span",{className:"plyr__tooltip"},b,e.createElement(M,null)):d?e.createElement(D,{className:"plyr__slider__preview"},e.createElement("div",{className:"plyr__slider__preview__thumbnail"},e.createElement("span",{className:"plyr__slider__preview__time-container"},b,e.createElement(M,{className:"plyr__slider__preview__time"})),e.createElement(y,{className:"plyr__slider__preview__thumbnail"}))):e.createElement(D,{className:"plyr__slider__preview"},e.createElement(W.Root,{src:r,className:"plyr__slider__preview__thumbnail"},e.createElement("span",{className:"plyr__slider__preview__time-container"},b,e.createElement(M,{className:"plyr__slider__preview__time"})),e.createElement(W.Img,null))),t&&Number.isFinite(i)?t.map((f,h)=>e.createElement("span",{className:"plyr__progress__marker",key:h,onMouseEnter:w.bind(f),onMouseLeave:k,style:{left:`${f.time/i*100}%`}})):null))))}Qe.displayName="PlyrTimeSlider";function He(){let t=n("Volume");return u("volumeSlider",e.createElement(de,{className:"plyr__slider","data-plyr":"volume","aria-label":t},e.createElement("div",{className:"plyr__slider__track"}),e.createElement("div",{className:"plyr__slider__thumb"})))}He.displayName="PlyrVolumeSlider";function Ke({type:t}){return e.createElement("div",{className:"plyr__controls__item plyr__volume"},t==="mute"||t==="mute+volume"?e.createElement(Ae,null):null,t==="volume"||t==="mute+volume"?e.createElement(He,null):null)}Ke.displayName="PlyrVolume";function Ue(){let{invertTime:t,toggleTime:r,displayDuration:o}=s(),l=p("streamType"),a=n("Current time"),i=n("LIVE"),[m,c]=e.useState(t),P=!o&&m;function y({nativeEvent:d}){!r||o||I(d)&&!V(d)||c(N=>!N)}return u("currentTime",l==="live"||l==="ll-live"?e.createElement(ye,{className:"plyr__controls__item plyr__control plyr__live-button","data-plyr":"live"},e.createElement("span",{className:"plyr__live-button__text"},i)):e.createElement(e.Fragment,null,e.createElement(K,{type:"current",className:"plyr__controls__item plyr__time plyr__time--current",role:"timer","aria-label":a,tabIndex:0,remainder:P,onPointerUp:y,onKeyDown:y}),o?e.createElement(X,null):null))}Ue.displayName="PlyrCurrentTime";function X(){let t=n("Duration");return u("duration",e.createElement(K,{className:"plyr__controls__item plyr__time plyr__time--duration",type:"duration",role:"timer",tabIndex:0,"aria-label":t}))}X.displayName="PlyrDuration";function ze(){let{download:t}=s(),r=p("source"),o=p("title"),l=ae({title:o,src:r,download:t}),a=n("Download");return u("download",l?e.createElement("a",{className:"plyr__controls__item plyr__control",href:l.url+`?download=${l.name}`,download:l.name,target:"_blank"},e.createElement("slot",{name:"download-icon"}),e.createElement("span",{className:"plyr__tooltip"},a)):null)}ze.displayName="PlyrDownloadButton";function qe(){let{clickToPlay:t,clickToFullscreen:r}=s();return e.createElement(e.Fragment,null,t?e.createElement(H,{className:"plyr__gesture",event:"pointerup",action:"toggle:paused"}):null,r?e.createElement(H,{className:"plyr__gesture",event:"dblpointerup",action:"toggle:fullscreen"}):null)}qe.displayName="PlyrGestures";function je(){let t=p("textTrack"),[r,o]=e.useState(null);return e.useEffect(()=>{if(!t)return;function l(){o(t?t.activeCues[0]:null)}return l(),re(t,"cue-change",l)},[t]),e.createElement("div",{className:"plyr__captions",dir:"auto"},e.createElement("span",{className:"plyr__caption",dangerouslySetInnerHTML:{__html:r?.text||""}}))}je.displayName="PlyrCaptions";function Je(){let{icons:t}=s(),r=n("Settings");return u("settings",e.createElement("div",{className:"plyr__controls__item plyr__menu"},e.createElement(G,null,e.createElement(O,{className:"plyr__control","data-plyr":"settings"},u("settingsButton",e.createElement(e.Fragment,null,e.createElement(t.Settings,null),e.createElement("span",{className:"plyr__tooltip"},r)))),e.createElement(Q,{className:"plyr__menu__container",placement:"top end"},e.createElement("div",null,e.createElement("div",null,u("settingsMenu",e.createElement(e.Fragment,null,e.createElement(Ye,null),e.createElement(et,null),e.createElement(tt,null),e.createElement(Ze,null)))))))))}Je.displayName="PlyrSettings";function Xe({label:t,hint:r,open:o,disabled:l}){let a=n(t),i=n("Go back to previous menu");return e.createElement(O,{className:`plyr__control plyr__control--${o?"back":"forward"}`,"data-plyr":"settings",disabled:l},e.createElement("span",{className:"plyr__menu__label","aria-hidden":o?"true":void 0},a),r?e.createElement("span",{className:"plyr__menu__value"},r):null,o?e.createElement("span",{className:"plyr__sr-only"},i):null)}Xe.displayName="PlyrMenuButton";function R({label:t,hint:r,children:o,disabled:l}){let[a,i]=e.useState(!1);function m(){i(!0)}function c(){i(!1)}return e.createElement(G,{onOpen:m,onClose:c},e.createElement(Xe,{label:t,open:a,hint:r,disabled:l}),e.createElement(Q,null,o))}R.displayName="PlyrMenu";function Ye(){let t=n("Default"),r=p("audioTrack"),o=be();return e.createElement(R,{label:"Audio",hint:r?.label??t,disabled:o.disabled},e.createElement(v,{value:o.selectedValue},o.map(({label:l,value:a,select:i})=>e.createElement(T,{className:"plyr__control",value:a,onSelect:i,key:a},e.createElement("span",null,l)))))}Ye.displayName="PlyrAudioMenu";function Ze(){let t=n("Normal"),r=Re({normalLabel:t}),o=r.selectedValue==="1"?t:r.selectedValue+"x";return e.createElement(R,{label:"Speed",hint:o,disabled:r.disabled},e.createElement(v,{value:r.selectedValue},r.map(({label:l,value:a,select:i})=>e.createElement(T,{className:"plyr__control",value:a,onSelect:i,key:a},e.createElement("span",null,l)))))}Ze.displayName="PlyrSpeedMenu";function et(){let t=n("Disabled"),r=ve({off:t}),o=r.selectedTrack?.label??t;return e.createElement(R,{label:"Captions",hint:o,disabled:r.disabled},e.createElement(v,{value:r.selectedValue},r.map(({label:l,value:a,select:i})=>e.createElement(T,{className:"plyr__control",value:a,onSelect:i,key:a},e.createElement("span",null,l)))))}et.displayName="PlyrCaptionsMenu";function tt(){let t=n("Auto"),r=Te({auto:t,sort:"descending"}),o=r.selectedQuality?.height,l=r.selectedValue!=="auto"&&o?`${o}p`:`${t}${o?` (${o}p)`:""}`;return e.createElement(R,{label:"Quality",hint:l,disabled:r.disabled},e.createElement(v,{value:r.selectedValue},r.map(({label:a,value:i,select:m})=>e.createElement(T,{className:"plyr__control",value:i,onSelect:m,key:i},e.createElement("span",null,a)))))}tt.displayName="PlyrQualityMenu";export{j as PlyrAudioLayout,we as PlyrLayout,B as PlyrLayoutContext,J as PlyrVideoLayout,U as i18n,nt as plyrLayoutIcons,s as usePlyrLayoutContext,n as usePlyrLayoutWord};
