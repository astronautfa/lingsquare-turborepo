import{a as v,b as d,c as E,d as h}from"./vidstack-7QUL3Z2M.js";import{P as b,Q as P}from"./vidstack-T3YB2P2M.js";import{Ia as m}from"./vidstack-7EEF72GH.js";import{k as a}from"./vidstack-DK4Y24W7.js";import*as e from"react";import{Internals as c,random as I}from"remotion";var y=e.forwardRef(({frame:r,renderLoading:n,errorFallback:s,onError:l,...t},i)=>{let o=P("currentSrc"),u=e.useMemo(()=>new v,[]);m(o)&&!o.compositionWidth&&(o={compositionWidth:1920,compositionHeight:1080,fps:30,...o}),e.useEffect(()=>(u.setSrc(m(o)?o:null),()=>void u.setSrc(null)),[o]);let g=c.useLazyComponent({component:o.src}),p=e.useMemo(()=>String(I(null)),[]),R=e.useMemo(()=>({rootId:p,frame:{[d]:r},playing:!1,playbackRate:1,setPlaybackRate:a,audioAndVideoTags:{current:[]},imperativePlaying:{current:!1}}),[p]),C=e.useMemo(()=>({...R,frame:{[d]:r}}),[R,r]),f=e.useMemo(()=>({mediaMuted:!0,mediaVolume:0,setMediaMuted:a,setMediaVolume:a}),[]),[,M]=e.useState(0);return e.useEffect(()=>{M(1)},[]),m(o)?e.createElement(E,{src:o,component:g,timeline:C,mediaVolume:f,setMediaVolume:f,numberOfSharedAudioTags:0},e.createElement(b.div,{...t,ref:i,"data-remotion-thumbnail":!0},e.createElement("div",{"data-remotion-canvas":!0},e.createElement("div",{"data-remotion-container":!0,ref:S=>{u.setContainer(S)}},e.createElement(T,{inputProps:o.inputProps,renderLoading:n??o.renderLoading,errorFallback:s??o.errorFallback,onError:l??o.onError}))))):null});y.displayName="RemotionThumbnail";var w=y;function T({inputProps:r,renderLoading:n,errorFallback:s,onError:l}){let t=c.useVideo(),i=t?t.component:null,o=e.useMemo(()=>n?.(),[n]);return e.createElement(e.Suspense,{fallback:o},i?e.createElement(h,{fallback:s,onError:l},e.createElement(c.ClipComposition,null,e.createElement(i,{...t?.props,...r}))):null)}T.displayName="RemotionThumbnailUI";export{w as a};
